<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Astro RPS</title><link rel="stylesheet" href="/build/_assets/app-LVHQOBTF.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-SJEQ5G4L.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3 dark:bg-white dark:rounded"><img src="/build/astro-rps-logo-5e1744e2e1dba761340324e371f9a0e6.webp" class="h-9" alt="Astro RPS" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Astro RPS" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Astro RPS</a><a title="Course Topics" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/topiclist">Course Topics</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Lectures" class="block break-words rounded py-2 grow cursor-pointer">Lectures</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R3d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Labs" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Labs</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R4d8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R4d8p:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  1" class="block break-words rounded py-2 grow cursor-pointer">Week  1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R3cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  2" class="block break-words rounded py-2 grow cursor-pointer">Week  2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R5cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  3" class="block break-words rounded py-2 grow cursor-pointer">Week  3</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R7cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R7cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  4" class="block break-words rounded py-2 grow cursor-pointer">Week  4</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R9cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R9cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  5" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Week  5</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:Rbcd8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:Rbcd8p:" class="pl-3 pr-[2px] collapsible-content"><a title="Functions (and HII regions in M33)" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/assignment-functions">Functions (and HII regions in M33)</a></div></div></div></div></div></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="sticky z-10 hidden h-0 col-margin-right-inset lg:block" style="top:60px"><nav></nav></div><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/https://astro-rps.github.io/" title="GitHub Repository: https://astro-rps.github.io/" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative" id="headlessui-menu-button-:R1khtop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="ml-2 -mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Functions (and HII regions in M33)</h1></div><div id="skip-to-article"></div><div id="BgafsqbANI" class="relative group/block article-grid subgrid-gap col-screen"><p>In this week’s lab, we’ll see how to construct and use Python functions in practice, using a narrowband image of the galaxy M33 as our dataset.</p><p>Our ultimate goal will be to nicely plot and crop our image to make scientific measurements of the physical size of certain features in the galaxy.</p><p>We’ll also see at the end why writing functions was a useful way to organize and carry out this analysis. We’ll start focusing just on the image. In Part II, there is a scientific overview regarding HII regions and why we are interested in them.</p></div><div id="fDInO8dtUJ" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Some libraries we&#x27;ll need throughout
from astropy.io import fits 
from astropy.wcs import WCS 
import numpy as np 
import matplotlib.pyplot as plt</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="krYcXti3Oftagzn0iTA9u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="seBatHGOEF" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="part-0-warm-up" class="relative group"><span class="heading-text">Part 0: Warm up</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-0-warm-up" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Before we dive into new things, let’s re-familiarize ourselves with how to write some simple functions.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 0</div></div><div class="px-4 py-1"><p>Take your code from last week --- the <code>minmax</code> script and <code>peak_finder</code> script, and turn them into functions,which take in the relevant inputs and return the answers. Show that you can use your functions on multiple inputs! For your minmax code, you should set the <code>positive_only</code> flag as an argument with a default value.</p></div></aside></div><div id="M3nmbhW3P8" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="part-1-loading-and-viewing-astronomical-images" class="relative group"><span class="heading-text">Part 1: Loading and viewing astronomical images</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-1-loading-and-viewing-astronomical-images" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Astronomical images (those taken at a telescope like Keck Observatory, or in space, like HST or JWST) are, at their core, a 2D array of values. In general, we take images in one band (color) at a time, and if we want color images like those you can take with a camera, we have to later combine those images.</p><p>The vast majority of astronomical images that have been, and continue to be, taken are stored in a special file format called <code>FITS</code>. <code>Fits</code> stands for Flexible Image Transport System. It’s a binary format which requires specialized programs to open. One is SAOImage DS9, a GUI based tool I recommend having if you will be working with astronomical images.</p><p>In Python, we can use the <code>astropy.io.fits</code> module to load the header (a dictionary of information about the file) and data (images) from a <code>FITS</code> file.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="px-4 py-1"><p>While <code>FITS</code> files are primarily images, it is also possible to store tables of data in <code>FITS</code> format; you’ll see this in upcoming weeks.</p></div></aside><p>Within a <code>FITS</code> file, information is stored in what are called <em>extensions</em>. These are like separate buckets/folders, and thus allow one to store multiple images, or an image + table, or multiple tables, within 1 file. But usually, we have a simple file with 1 image in the 0th extension, and its header.</p><p>When we load a <code>FITS</code> file, we usually also want to know something about the coordinates (on the sky, so RA and DEC) of the things in our image. To do this, we need to know the <code>WCS</code> (world coordinate system) coordinates of the image. The information needed to make one of these is in the image header, and there is an astropy function to convert a header to a <code>wcs</code> object.</p><p>The code below will load the M33 image we’ve provided into Python, setting the 2D array <code>im</code> as the image, and the <code>wcs</code> object via the astropy routine.</p></div><div id="OPPxUmXy2d" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">from astropy.io import fits 
from astropy.wcs import WCS 

with fits.open(&#x27;./M33_halpha.fits&#x27;) as hdu:
    im = hdu[0].data 
    wcs = WCS(hdu[0].header)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4atoNvTmXgBRMwqKaks4a" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dFq2ZNw2me" class="relative group/block article-grid subgrid-gap col-screen"><p>We can, if we wish, encapsulate this operation into a function. It’s short enough that it’s not <em>overly</em> onerous to write out each time. But we can make these three lines into one, which might make our code easier to read when loading many different <code>fits</code> files throughout a script.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 1.1</div></div><div class="px-4 py-1"><ol start="1"><li>Start by defining a function <code>load_fits</code> which has arguments <code>fname</code> (<code>str</code>), and <code>extension</code> (<code>int</code>). These are the pieces of information we needed above.</li><li>Then add these lines above into the function trading out the hard coded elements for the function arguments.</li><li>Finally, <code>return im, wcs</code>. As the majority of <code>fits</code> image store the image in the 0th extension, you can set the default for that argument to 0.</li></ol><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-amber-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-amber-600 bg-amber-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-amber-600"><path fill-rule="evenodd" d="M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Remember!</div></div><div class="px-4 py-1"><p>Don’t forget to document your function!</p></div></aside></div></aside></div><div id="VymjHHwaTJ" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 1.2</div></div><div class="px-4 py-1"><p>One danger of our function above is that some fits image do not have any <code>wcs</code> information stored in their header. At current, we will throw an exception if we try to load such an image.</p><ol start="1"><li>Add a <code>try/except</code> statement to your function around the <code>wcs=</code> line. Try loading a <code>wcs</code> as we did above, but if there is an exception, continue, and return the <code>im</code> (image pixels) and <code>None</code> for the <code>wcs</code> return. Optionally, print a message that this occurred.</li></ol></div></aside></div><div id="D1r16iserR" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 1.3</div></div><div class="px-4 py-1"><p>Use your new <code>load_fits</code> function to read in the <code>M33_halpha.fits</code> file. Save the output of the function into the variables <code>m33_im</code> and <code>m33_wcs</code>.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>If you get an error about <code>fits</code> or <code>WCS</code>, make sure you’ve <em>imported</em> those functions from astropy in your file!</p></div></details></div></aside></div><div id="T9HKtX1Reh" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 2.1</div></div><div class="px-4 py-1"><p>Let’s visualize the image we have loaded.</p><ol start="1"><li>Use the matplotlib <code>imshow</code> command to plot the image. To see anything useful, you will need to set the <code>vmin</code> and <code>vmax</code> arguments --- a convenient choice is to compute the <code>np.percentile</code> of the data at <code>[1,99]</code> and to set those as the min and max scalings.</li><li>Additionally set <code>origin=&#x27;lower&#x27;</code> and <code>cmap=&#x27;gray_r&#x27;</code> in your imshow call.</li></ol><p>I suggest a figure size of 10 by 10 inches. Remember we can call <code>fig, ax = plt.subplots()</code> to make our figure and axes objects (so here, <code>fig,ax=plt.subplots(figsize=(10,10))</code>).</p></div></aside></div><div id="z1Tph3BxCA" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 2.2</div></div><div class="px-4 py-1"><p>This is already a few lines of code, and we <em>often</em> need to plot astronomical images. Let’s now make a function that can streamline some of these lines of code above for us.</p><p>First define a function <code>implot</code>. The first argument should be a variable <code>path_or_pixels</code>. We’re going to allow users to either provide a file name to a <code>fits</code> file directly, or provide an image array (as we did above). To handle this, write some logic using the <code>isinstance()</code> python function to check whether the input is an array or a string, and if it is a string, use the <code>load_fits</code> function we wrote in Exercise 1 to load the image. (Otherwise, we’ll just set our image to be the <code>path_or_pixels</code> input, assuming it is an array. You could use <code>isinstance()</code> again to check if it is a numpy array and raise an exception if not, optionally.)</p><p>Include as arguments the following:</p><ol start="1"><li><code>percentiles</code> (<code>list</code>) (which will let users scale <code>vmin</code> and <code>vmax</code>, set to a default of <code>[1,99.5]</code>.</li><li><code>figsize</code> (<code>tuple</code>): an optional argument with a default set to something like (8,8).</li><li><code>cmap</code> (<code>str</code>): argument with a default of <code>&#x27;gray_r&#x27;</code>, passed along the <code>imshow</code> command, giving us control over the plotting color mapping.</li></ol><p>Your function should <code>return</code> the <code>fig</code> and <code>ax</code> objects it created.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words"><em>Hint: isinstance()</em></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>If you haven’t used <code>isinstance()</code> yet, here’s a primer.</p><p>When we want to check the <code>type</code> of a variable, we can use <code>type(var_name)</code> to see its typename. When we want to check or ensure that a variable’s type matches some desired type, we can use <code>isinstance(variable,type)</code> to return <code>True</code> or <code>False</code>. For example, <code>isinstance(&#x27;test&#x27;,str)</code> would return true, because the input <code>&#x27;test&#x27;</code> is a string. The names for the built-in types are <code>str</code>,<code>bool</code>,<code>list</code>,<code>dict</code>,<code>tuple</code>,<code>float</code>,<code>int</code>, etc. For a <code>numpy</code> array, its “type” is <code>np.ndarray</code>.</p></div></details><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint</div></div><div class="px-4 py-1"><p>We haven’t covered how to type-hint multiple allowed types yet. Here’s a preview hint if you want to include it, but you don’t have to:</p><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">from typing import Union 
def func(arg: Union[np.ndarray,list]):
    ...</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div></aside></div></aside></div><div id="CJjq2llwjg" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 2.3</div></div><div class="px-4 py-1"><p>Try out your function to make sure it is working as expected --- try inputting both our image array from above, as well as the file name. Try changing the percentiles and figsize and make sure the function responds accordingly.</p></div></aside></div><div id="Xr1V8hXo0X" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 2.4</div></div><div class="px-4 py-1"><p>Now we want to incorporate the <code>wcs</code> into the mix.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="px-4 py-1"><p>A WCS object encapsulates the “world coordinate system”, which indicates where on the sky an image is pointed. You can think of these coordinates like latitude and longitude on Earth, but for the full sky. We’ll learn more about these objects later, but for now, know that a <code>wcs</code> object can be constructed from the <code>fits</code> file header (when the image has that information), and tells our plotting code how to map between a pixel position and a sky position under the hood.</p></div></aside><p>Currently, a <code>wcs</code> will be accessible if the user provides the path to a file that has one. Now, add an optional argument to your function <code>wcs</code> with a default of <code>None</code>. Add logic so that if the <code>wcs</code> is not <code>None</code> (either from loading an image, or after the function input), we add the following to our subplots command:</p><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=figsize,subplot_kw={&#x27;projection&#x27;:wcs})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><p>What this does is turn our regular axis into a <code>WCSAxis</code>, which can handle plotting astronomical units along the axes of our image.</p><p>Try your function again, but this time add the <code>wcs</code> we created in the previous exercise. How do your plot axes change?</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Extra Feature (optional)</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>At the moment, the user <em>chooses</em> whether to provide a wcs for the pixels case, but we <em>force</em> a wcs plotting if a path to a fits file that contains a wcs is provided. This should be the default case, but it might be nice to give the option to turn that off. The easiest way to accomplish this is to add an <code>ignore_wcs</code> optional argument to your function which has a default of <code>False</code>. Thus, given an image file path, we can plot using coordinates by default, or the raw pixels by ignoring any wcs present. This works too if we provide a wcs but want to easily toggle it on and off.</p></div></details></div></aside></div><div id="hYnmtDWWw7" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 2.5</div></div><div class="px-4 py-1"><p>Try out your function again, using both the fits file string and the array, but now try all your toggles --- i.e., fits file string, fits file string plus ‘ignore_wcs’ if you added that feature, array input, array input + wcs object input. Do you get the proper behavior? Below is an example of what the output should look like for default loading of the image.</p></div></aside></div><div id="aBqPpHNrwq" class="relative group/block article-grid subgrid-gap col-screen"><p>There are now 13 lines of logic in our function, and hopefully it is becoming clear why making such a function is so useful --- we can now very quickly and easily load and plot any fits file, or any array we have on hand, with <code>wcs</code> on or off, with limits setting, all in one line.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="px-4 py-1"><p>It is a good idea to <code>return</code> the <code>fig</code> and <code>ax</code> objects at the end of our function. This is useful because if we want to add to our plot (say, add a circle somewhere, or text), or <em>change</em> our plot (adjust the limits, etc.) we need to be able to access those objects. As we learned when we discussed <strong>scope</strong>, anything from inside a function that we want access to after the function has been run must be <code>returned</code> back to the larger scope of the python script we are working in.</p></div></aside></div><div id="h1lH4BCh0g" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="part-ii-the-size-of-hii-regions" class="relative group"><span class="heading-text">Part II: The Size of HII Regions</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-ii-the-size-of-hii-regions" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words"><em>The Science</em></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>For the rest of the assignment, we will be investigating the physical size of HII regions in nearby galaxy M33. Not sure what that means? Here’s a quick primer.</p><p>Stars form of many different masses (from much smaller than the sun to <strong>much</strong> larger), with many more low mass stars forming than massive stars<span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow></mrow><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span>. While very few high mass (e.g., 3-10+ <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mo lspace="0em" rspace="0em">⊙</mo></msub></mrow><annotation encoding="application/x-tex">M_{\odot}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊙</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></span>) stars form at a time in a galaxy, they have an outsized effect, dominating the light of the low mass stars (though they live much shorter lives). They are also the only stars (dubbed O-type) who put out significant light in the ultraviolet part of the spectrum. We know that our own sun does emit <em>some</em> light in the UV (that’s the more high energy, dangerous light that can give us cancer, hence sunscreen), but these stars pump out <em>most</em> of their light in the UV.</p><p>UV light has enough energy to <em>ionize</em> the atoms in gas (especially hydrogen gas), which means to knock the bound electron out of the atom and leave behind a proton and an electron. In some equilibrium, these electrons <em>recombine</em> with protons, and the electrons <em>cascade</em> through several energy levels as they fall toward the ground (most bound) state. For each gap they drop, the atom emits a photon with an equivalent energy to the difference between the levels traversed.</p><p>This process of recombination produces light at specific wavelengths, so when you look at planetary nebulae, star forming regions, or supernova remnanta (see below), the colors are representitive of the different elements and energy levels being traversed.</p><p><img style="margin:0 auto" src="/build/eagle-ade9779fab06ef18b8a3a7eb705cc974.jpg" alt="eagle nebula" data-canonical-url="eagle.jpg"/>
<em>The Eagle Nebule, where we can see the hollow region being blown out by young stars (with the famous pillars of creation remaining, soon to be whittled down. Credit: ESO</em></p><p>Bright, young stars actually put out enough radiation to “blow out” and push on the gas remaining from the clouds from which they formed. This carves our roughly spherical regions known as Strömgen spheres, the inner boundary of which is usually lit up in this ionized emission. The <em>size</em> of the sphere blown out depends on the total amount of flux coming from the bright stars, which in turn depends on how many of them there are.</p><p>In our image of M33, we can see lots of these roughly spherical regions being highlighted by the narrow, H<!-- -->α<!-- --> filter being used to observe the galaxy. By measuring their size in pixels and using our knowledge of the distance to M33, we can perform some simple trigonometry to determine their actual physical sizes. As a bonus, we can then roughly estimate the number of O-type stars responsible for the visible HII region. (note that Starforming region and HII region are roughly synonymous; HII is the chemical name for ionized hydrogen).</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">*</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>Stars that form together out of one more massive cloud have masses drawn from what is called an initial mass function, or IMF, which is roughly exponential.</p></div></details></div></details></div><div id="NzwPFrmiw9" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.1</div></div><div class="px-4 py-1"><p>While we can see by eye lots of small HII regions scattered around M33 in our image, to do a more careful analysis of the sizes we will need a way to crop our images to just focus on one HII region at a time.</p><p>There are fundamentally two ways to carry out this crop. We can work in units of image pixels, and use <em>array indexing</em> and <em>slicing</em> to select subarrays containing out HII regions. Or, we could use our <code>wcs</code> objects to pick central coordinates on the sky and a size (in sky angular units) to crop in on, and use an <code>astropy</code> tool to do the crop.</p><p>In this exercise, we will work with the pixels, as it will be good practice for our array indexing and slicing.</p><p>Our first step is actually determining the <em>pixel coordinates</em> of a given HII region. While there are more complex methods we could write, it is not so hard to do this by eye. That said, a simple <code>crosshairs</code> function would help us know that our chosen coordinates land right on an HII region.</p><ol start="1"><li>Write a function <code>crosshairs</code> which takes in <code>crosshairs(ax,x,y)</code>. It should then use <code>ax.axvline(x)</code> and similarly <code>ax.axhline(y)</code> for <code>y</code> to plot a crosshairs over our image at some coordinates. Return <code>ax</code> when done.</li><li>Run you function for position (995,1445). Are you right on an HII region?</li></ol></div></aside></div><div id="zfOXXxpIuo" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.2</div></div><div class="px-4 py-1"><p>Now that we have a set of starting coordinates, we want to crop our image down to a certain window around our coordinates which contain the HII region.</p><ol start="1"><li>Write a function <code>crop_image</code> which takes in the image array, (x,y) central coordinates, and a window size in pixels. Your functiuon should compute the half-window size (integer division of input window by 2), then index the image from the central coordinates +/- the half-window size. It should return the new image.</li><li>Use your <code>implot</code> function to show a new image output by your <code>crop_image</code> function using the above coordinates and a window size of 50 pixels.</li></ol><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>Remember that arrays are indexed by row first, then column! This means in our bracket indexing, “y-value” indexing comes first, then “x-value” indexing.</p></div></details></div></aside></div><div id="HToFJ5v6Xf" class="relative group/block article-grid subgrid-gap col-screen"><div class="flex sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:hidden"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="hidden sticky top-[80px] z-10 opacity-70 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute top-0 -right-[28px] flex md:flex-col"></div></div><div class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm border border-l-4 border-l-blue-400 border-gray-200 dark:border-l-blue-400 dark:border-gray-800"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre"># Here is an an example of ~what you should be seeing</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div data-mdast-node-id="4aoobELLNlqxrNcy9PfKk" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div class="font-mono text-sm whitespace-pre-wrap"><code><span>(&lt;Figure size 700x700 with 1 Axes&gt;, &lt;Axes: &gt;)</span></code></div><img src="/build/ebab54133709ccf41110fd70439fd6ba.png" alt="&lt;Figure size 700x700 with 1 Axes&gt;"/></div></div><div id="fkYOdsajmp" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.3</div></div><div class="px-4 py-1"><p>You should hopefully now have a nice, circular feature filling most of your plotted image. This is our HII region!</p><p>In order to estimate its radius in pixels, we’d like to place a circle down that lines up with the ridge of emission defining the circle (and adjust our center as needed, as our by-eye estimate from the full image was likely not perfect.</p><ol start="1"><li>Recall that we can compute the x and y values of a circle with position <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_0,y_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> and radius <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span> via <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub><mo>+</mo><mi>R</mi><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(\theta) = x_0 + R\cos(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></span> and <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>y</mi><mn>0</mn></msub><mo>+</mo><mi>R</mi><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y(\theta) = y_0 + R\sin(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></span>. Write a function <code>add_circle(ax,x,y,r)</code> which takes in our image <code>ax</code>, creates an array of <code>theta</code> values from 0 to <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>π</mi></mrow><annotation encoding="application/x-tex">2\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span></span> (Hint: <code>np.linspace()</code> is good for this), computes the arrays for the x and y positions of the circle based on its center and radius, plots them using <code>ax.plot(x,y)</code> over the image, and returns the ax.</li><li>Use your function to determine the new center and radius <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span> of this HII region.</li></ol><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-amber-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-amber-600 bg-amber-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-amber-600"><path fill-rule="evenodd" d="M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Warning</div></div><div class="px-4 py-1"><p>When you crop from the full image to the zoom image, you have a new array with a new shape. Our original coordinates no longer matter; your <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x,y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> center is the center of the <em>new</em> array, which should have a shape of 50x50.</p><p>So starting with a center of 25,25 makes sense here. If you want to know what these coordinates refer to back in the original image, you’ll have to do a coordinate transformation to “uncrop” them --- calculate the coordinates of the left and bottom edge of the crop region and add the new center in <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x,y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> to those.</p><p>We don’t need to do that here, as we’re interested in <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span> (which is preserved in the crop as the pixel scale has not changed), but not the precise <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span> or <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> in original image coordinates.</p></div></aside></div></aside></div><div id="bgMgS3uzSg" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.4</div></div><div class="px-4 py-1"><p>Now that we have a measurement of <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>H</mi><mi>I</mi><mi>I</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{HII}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">II</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> in pixels, we need to begin converting this to a physical scale. We can do this because we know the <em>pixel scale</em> of our detector, that is, how many angular degrees (here we’ll use the arcsecond) on sky does one pixel subtend. For example, if we have a pixel scale of 2.2, that means each pixel subtends 2.2 arcseconds on sky (roughly 0.0006 degrees).</p><p>We can then make a triangle --- the long edge is the distance in physical units to M33. The short edge is the length we want, the physical radius of the HII region, and <!-- -->θ<!-- --> is our measured angular radius, obtained by multiplying the radius in pixels by the pixel scale.</p><img style="margin:0 auto" src="/build/distance_trigonometr-a20c8616f53a4840f1a87cc02e9fac22.png" alt="triangle of distance and radius" data-canonical-url="distance_trigonometry.png"/><p>To perform the actual trigonometric step, we need to compute <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>tan</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">D\tan(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">tan</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></span>.</p><ol start="1"><li><p>Write a function <code>compute_size(distance,s_pix,pixel_scale)</code>. Using the pixel scale, it should convert the size <code>s_pix</code> to arcseconds, then onward to degrees (there are 3600 arcseconds in a degree), then onward to radians for the trig function (<code>np.deg2rad()</code> may be useful here). Then, using that, compute the size using the formula above and return it. The size output will have units equal to the length units that were assumed for <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span></span>.</p></li><li><p>M33 has a distance of 0.869 Mpc (Megaparsec). Using your function, compute the radius of the HII region in parsec by converting the M33 distance to pc, then using your compute size function. Assume a pixel scale of 2.2. How big is this HII region?</p></li></ol></div></aside></div><div id="FL5YkFdC4Y" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.5 (Bonus)</div></div><div class="px-4 py-1"><p>We can avoid the annoyance of unit conversions by using the <code>astropy.units</code> library. Look up how to create astropy unit quantities, and rewrite your <code>compute_size</code> function to allow distance to be input in any unit, as well as the pixel scale. Then easily convert your output to <code>pc</code> at the end and return it.</p></div></aside></div><div id="SuEhCc5dUx" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.6</div></div><div class="px-4 py-1"><p>Now that we know the physical size of the HII region (not a trivial feat!) we can actually go further. In a back-of-the-envelope sense, the radius of the full HII region can be approximated as that of a Strömgren sphere around a “single” high energy star.</p><p>The formula for this radius is</p><div id="SS3X6LfjUt" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>r</mi><mi>S</mi></msub><mo>=</mo><msup><mrow><mo fence="true">(</mo><mfrac><mrow><mn>3</mn><msup><mi>N</mi><mo>∗</mo></msup></mrow><mrow><mn>4</mn><mi>π</mi><mi>α</mi><msup><mi>n</mi><mn>2</mn></msup></mrow></mfrac><mo fence="true">)</mo></mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></msup></mrow><annotation encoding="application/x-tex">r_S = \left(\frac{3N^*}{4\pi\alpha n^2}\right)^\frac{1}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.744em;vertical-align:-0.95em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.7939em;"><span style="top:-4.2029em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="select-none no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit hover:underline" href="#SS3X6LfjUt" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->1<!-- -->)</a></div></div><p>where <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">N^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span> is the ionizing photon rate from the OB star (typically <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∼</mo><mn>1</mn><msup><mn>0</mn><mn>49</mn></msup></mrow><annotation encoding="application/x-tex">\sim 10^{49}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">49</span></span></span></span></span></span></span></span></span></span></span></span></span> photon s<sup>-1</sup>), <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>∼</mo><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>13</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\alpha \sim 3\times10^{-13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">13</span></span></span></span></span></span></span></span></span></span></span></span></span> cm<sup>3</sup> s<sup>-1</sup> is the recombination coefficient, and <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∼</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">n\sim 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></span> cm<sup>-3</sup> is the number density.</p><p>We <em>know</em> <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">r_S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>. Solve this equation instead for <span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mo>∗</mo></msup></mrow><annotation encoding="application/x-tex">N^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span></span>, writing a function that returns the value of</p><div id="B6sMF9uJld" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><mfrac><msup><mi>N</mi><mo>∗</mo></msup><mrow><mn>1</mn><msup><mn>0</mn><mn>49</mn></msup></mrow></mfrac><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(\frac{N^*}{10^{49}}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">49</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="select-none no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit hover:underline" href="#B6sMF9uJld" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->2<!-- -->)</a></div></div><p>Having done so, you now have a function that given a radius and assumptions about particle density and recombination coefficient returns the “number” of OB stars driving the HII region! (Technically, we have an answer that is units of the typical OB star’s photon flux, so the actual number of stars could be lower if each is more massive and brighter and vice versa --- but this gives both the actual driving flux and an approximate order-of-magnitude estimate for the number of stars.</p><p>Play with your function a bit, putting in values from 10 pc to 500 pc for the size, and see how the ionizing flux changes!</p></div></aside></div><div id="KUTsP9GUH4" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Exercise 3.7: Putting it all together</div></div><div class="px-4 py-1"><p>Throughout the course of this lab, you have written several shorter (and longer) functions. For our <code>implot</code> function, it is hopefully clear why having that function around is handy --- to set everything we included every time we wanted to quickly view some fits file or local array would be onerous; this function now makes it very easy to get a useful result in a simple one line call, with plenty of room to specify options if we desire.</p><p>On the other hand, something we covered in lecture was that functions are most useful for <em>reusable</em> bits of code. Thus far, though, we only measured one HII region. In theory, all of the computations we did along the way could have been done directly in our script or notebook and it would not have been that disorganized of a file.</p><p>Let’s now demonstrate why writing functions <em>was</em> useful, even for the small steps.</p><ol start="1"><li>Using the original image, pick <strong>four more</strong> HII regions in the image of M33, and determine their physical sizes and number of OB stars.</li></ol><p>Tasked with this, hopefully you will be able to re-use your defined functions to make locating and measuring the size of each much easier! Create section headings in your solution with each one. While the solution won’t be fully automatic, since we still have some by-eye assesment happening, the final code block for doing this whole measurement will only be a few lines long, calling our pre-made functions. As we move further into the semester, we will learn how to automate, e.g., finding the locations of features of interest and measuring the size of those features.</p></div></aside></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/week4"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Week  4</div>Week 4 Exercises</div></div></a></div></main></article><script>((l,d)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let p=JSON.parse(sessionStorage.getItem(l)||"{}")[d||window.history.state.key];typeof p=="number"&&window.scrollTo(0,p)}catch(f){console.error(f),sessionStorage.removeItem(l)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-K6EYMIDZ.js"/><link rel="modulepreload" href="/build/_shared/chunk-FBLNPC3V.js"/><link rel="modulepreload" href="/build/_shared/chunk-XJN3BT5Q.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JPGYAJQ3.js"/><link rel="modulepreload" href="/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/build/_shared/chunk-JOLZ6LZB.js"/><link rel="modulepreload" href="/build/_shared/chunk-XIW7RL3H.js"/><link rel="modulepreload" href="/build/_shared/chunk-I634YBN3.js"/><link rel="modulepreload" href="/build/_shared/chunk-MITWS4PZ.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-M5ZDOVXY.js"/><link rel="modulepreload" href="/build/_shared/chunk-6TYLRLOL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UZHI4RYQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-RTIGS2T3.js"/><link rel="modulepreload" href="/build/root-2CYAF5SQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-OYK7WRH2.js"/><link rel="modulepreload" href="/build/routes/$-ZDWRJY4B.js"/><script>window.__remixContext = {"url":"/assignment-functions","state":{"loaderData":{"root":{"theme":"light","config":{"title":"Astro RPS","options":{"logo":"/build/astro-rps-logo-5e1744e2e1dba761340324e371f9a0e6.webp"},"myst":"1.1.37","nav":[],"actions":[],"projects":[{"title":"Astro RPS","github":"https://astro-rps.github.io/","keywords":[],"thumbnail":"/build/astro-rps-header-git-a93200a8cc2b5d8ab2d12eb69452df7a.png","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"topiclist","title":"Course Topics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Lectures","level":1},{"title":"Week  1","level":2},{"slug":"intro","title":"Welcome to the Astro Research Preparation Series!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"unix","title":"Introduction to UNIX and Filesystems: Navigating and Managing Data","description":"","date":"","thumbnail":"/build/finder-5c14a1ea67fb2a5082eb3c298369552b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"environments","title":"The Python Ecosystem and Virtual Environments","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  2","level":2},{"slug":"first-python-codes","title":"First Python Codes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"variables-datatypes","title":"A Deep Dive into Variables and Datatypes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"numpy-and-arrays","title":"Numpy and Arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  3","level":2},{"slug":"import-lecture","title":"Introduction to Imports","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"logic-lecture","title":"Logic Flow and Error Parsing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"loop-lecture","title":"Looping in Python","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  4","level":2},{"slug":"functions","title":"Functions in Python","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Labs","level":1},{"title":"Week  1","level":2},{"slug":"hunt","title":"Unix Scavenger Hunt!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  2","level":2},{"slug":"week2-assignment","title":"Calculating the Luminosities of Stars","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  3","level":2},{"slug":"assignment-w3","title":"Week 3 Assignment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  4","level":2},{"slug":"week4","title":"Week 4 Exercises","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  5","level":2},{"slug":"assignment-functions","title":"Functions (and HII regions in M33)","description":"","date":"","thumbnail":"/build/eagle-ade9779fab06ef18b8a3a7eb705cc974.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"page":{"kind":"Notebook","sha256":"bea54e9ed099d62d79d30ba0841ffc2e85196ee83c796c9268eaae4bbf109285","slug":"assignment-functions","location":"/02_Labs/Week 5/assignment-functions.ipynb","dependencies":[],"frontmatter":{"title":"Functions (and HII regions in M33)","github":"https://astro-rps.github.io/","keywords":[],"thumbnail":"/build/eagle-ade9779fab06ef18b8a3a7eb705cc974.jpg","exports":[{"format":"ipynb","filename":"assignment-functions.ipynb","url":"/build/assignment-functions-127a8cbe1091ad9057098c5c6fc8b1f9.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In this week’s lab, we’ll see how to construct and use Python functions in practice, using a narrowband image of the galaxy M33 as our dataset.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ZiQsg4xwjs"}],"key":"cdboTW2Rsa"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Our ultimate goal will be to nicely plot and crop our image to make scientific measurements of the physical size of certain features in the galaxy.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"F9WIsEgiRs"}],"key":"CjiymKwzuo"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We’ll also see at the end why writing functions was a useful way to organize and carry out this analysis. We’ll start focusing just on the image. In Part II, there is a scientific overview regarding HII regions and why we are interested in them.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"rbHjxQeDtk"}],"key":"tvhFub0pVa"}],"data":{"type":"notebook-content"},"key":"BgafsqbANI"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"# Some libraries we'll need throughout\nfrom astropy.io import fits \nfrom astropy.wcs import WCS \nimport numpy as np \nimport matplotlib.pyplot as plt","key":"yo8SR2hRlO"},{"type":"output","id":"krYcXti3Oftagzn0iTA9u","data":[],"key":"BNm4Iea2fI"}],"data":{"type":"notebook-code"},"key":"fDInO8dtUJ"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 0: Warm up","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B2dMcMWmGm"}],"identifier":"part-0-warm-up","label":"Part 0: Warm up","html_id":"part-0-warm-up","implicit":true,"key":"peI0Z4aAn0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Before we dive into new things, let’s re-familiarize ourselves with how to write some simple functions.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QIAM9ytAiK"}],"key":"umG554ez6H"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 0","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qcWk1mcYvo"}],"key":"Ncb63MiPMO"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Take your code from last week --- the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jiQDIoNuCa"},{"type":"inlineCode","value":"minmax","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Ic7hKomiSB"},{"type":"text","value":" script and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"J6yna7KKKm"},{"type":"inlineCode","value":"peak_finder","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vf71CGDQ6p"},{"type":"text","value":" script, and turn them into functions,which take in the relevant inputs and return the answers. Show that you can use your functions on multiple inputs! For your minmax code, you should set the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"vB75nhvlHU"},{"type":"inlineCode","value":"positive_only","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"reyyoqJlF4"},{"type":"text","value":" flag as an argument with a default value.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"P51A30T14Z"}],"key":"zrVDI4VxSB"}],"key":"oyxNVJmfBA"}],"data":{"type":"notebook-content"},"key":"seBatHGOEF"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 1: Loading and viewing astronomical images","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Np9CSdGlY1"}],"identifier":"part-1-loading-and-viewing-astronomical-images","label":"Part 1: Loading and viewing astronomical images","html_id":"part-1-loading-and-viewing-astronomical-images","implicit":true,"key":"wlwG2LFvbM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Astronomical images (those taken at a telescope like Keck Observatory, or in space, like HST or JWST) are, at their core, a 2D array of values. In general, we take images in one band (color) at a time, and if we want color images like those you can take with a camera, we have to later combine those images.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"T3fd3BvBCR"}],"key":"lOHlRFGcL2"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The vast majority of astronomical images that have been, and continue to be, taken are stored in a special file format called ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZrbF1ySCGH"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xk1EZA3qCt"},{"type":"text","value":". ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LAjbRR3ME2"},{"type":"inlineCode","value":"Fits","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"koyczDkbsa"},{"type":"text","value":" stands for Flexible Image Transport System. It’s a binary format which requires specialized programs to open. One is SAOImage DS9, a GUI based tool I recommend having if you will be working with astronomical images.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wNnEvu1kAD"}],"key":"r6W7caB5oU"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In Python, we can use the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZW5SmrJroF"},{"type":"inlineCode","value":"astropy.io.fits","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vxMQhA2Tpz"},{"type":"text","value":" module to load the header (a dictionary of information about the file) and data (images) from a ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XW79PQACIC"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SV70hagPmD"},{"type":"text","value":" file.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BTN99Q5h1c"}],"key":"NP9CcbW1pp"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"Bgk6TpzfZY"}],"key":"GdmqIxCuQ0"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"While ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"L8NxClMmgA"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"DphRlShaYP"},{"type":"text","value":" files are primarily images, it is also possible to store tables of data in ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"QWJtCkVmEx"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"K2DUJjBEHn"},{"type":"text","value":" format; you’ll see this in upcoming weeks.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"wCJDwEPUdi"}],"key":"zI7t4JCR9v"}],"key":"k1FV8ppC7H"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Within a ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vDXjAauXoz"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"V4QB2iXEx4"},{"type":"text","value":" file, information is stored in what are called ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bMjjS1oTEA"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"extensions","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BRwfIYdejD"}],"key":"cGlUBkKau3"},{"type":"text","value":". These are like separate buckets/folders, and thus allow one to store multiple images, or an image + table, or multiple tables, within 1 file. But usually, we have a simple file with 1 image in the 0th extension, and its header.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vyUaII7baN"}],"key":"SKBu5jmrG3"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"When we load a ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Re5ERFGvR1"},{"type":"inlineCode","value":"FITS","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"hjeEn1Rndg"},{"type":"text","value":" file, we usually also want to know something about the coordinates (on the sky, so RA and DEC) of the things in our image. To do this, we need to know the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"k40KysihcF"},{"type":"inlineCode","value":"WCS","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"e2m1RMLCDc"},{"type":"text","value":" (world coordinate system) coordinates of the image. The information needed to make one of these is in the image header, and there is an astropy function to convert a header to a ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Zjj0LQw9Ge"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"jOx7Xrl6ur"},{"type":"text","value":" object.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"a6YM5Iidgd"}],"key":"zHxmEJhEV5"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"The code below will load the M33 image we’ve provided into Python, setting the 2D array ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"tKk2GPwTQR"},{"type":"inlineCode","value":"im","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"MowqPiHtHw"},{"type":"text","value":" as the image, and the ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"lgCKvbC3rC"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"bjMVcf153d"},{"type":"text","value":" object via the astropy routine.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"uHb7hevSRb"}],"key":"BlHW3Oz8SU"}],"data":{"type":"notebook-content"},"key":"M3nmbhW3P8"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"from astropy.io import fits \nfrom astropy.wcs import WCS \n\nwith fits.open('./M33_halpha.fits') as hdu:\n    im = hdu[0].data \n    wcs = WCS(hdu[0].header)","key":"bYbglrPMlo"},{"type":"output","id":"4atoNvTmXgBRMwqKaks4a","data":[],"key":"I9PgKGwJBm"}],"data":{"type":"notebook-code"},"key":"OPPxUmXy2d"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can, if we wish, encapsulate this operation into a function. It’s short enough that it’s not ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bGnM9LsMSE"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"overly","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eec6HIAQPa"}],"key":"Mu9UgHZaSZ"},{"type":"text","value":" onerous to write out each time. But we can make these three lines into one, which might make our code easier to read when loading many different ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A33ZixJqXA"},{"type":"inlineCode","value":"fits","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Axr5T0OvJM"},{"type":"text","value":" files throughout a script.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zVc7xEPlsP"}],"key":"L7K16xLoyk"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 1.1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d0A6v65q3U"}],"key":"byu9mlCqlv"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Start by defining a function ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"s3whr6ZXdS"},{"type":"inlineCode","value":"load_fits","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UtaDoRthaG"},{"type":"text","value":" which has arguments ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dmPEyXVFtP"},{"type":"inlineCode","value":"fname","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K0nt0FFvQ1"},{"type":"text","value":" (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QVpniWRpmf"},{"type":"inlineCode","value":"str","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LYqSUFYi5N"},{"type":"text","value":"), and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yiVd4uA6VD"},{"type":"inlineCode","value":"extension","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bOteIuAiT7"},{"type":"text","value":" (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HwNa6F8xuR"},{"type":"inlineCode","value":"int","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"H3p7W1zdGF"},{"type":"text","value":"). These are the pieces of information we needed above.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pnvKmaITun"}],"key":"zbX5v05K2a"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Then add these lines above into the function trading out the hard coded elements for the function arguments.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sI3DyXKlHW"}],"key":"kG8HRDrXw3"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Finally, ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YGNfnHYonf"},{"type":"inlineCode","value":"return im, wcs","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RiAxZH6YmB"},{"type":"text","value":". As the majority of ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"oydiQLqpsW"},{"type":"inlineCode","value":"fits","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QrIByNBKcv"},{"type":"text","value":" image store the image in the 0th extension, you can set the default for that argument to 0.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rpP6FgTEKN"}],"key":"bMEyrTkEPz"}],"key":"agZHMRooHa"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Remember!","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eduGnQm6lu"}],"key":"CtwTXZun2w"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Don’t forget to document your function!","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"yzcKZZW9vZ"}],"key":"gPq6Zms9y1"}],"key":"c7weCafMuP"}],"key":"k0ANSRvVI9"}],"data":{"type":"notebook-content"},"key":"dFq2ZNw2me"},{"type":"block","children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 1.2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qHmq2BD5Gm"}],"key":"BROmTcjR34"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"One danger of our function above is that some fits image do not have any ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QdV5dAIKLs"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pGtzzTw5d1"},{"type":"text","value":" information stored in their header. At current, we will throw an exception if we try to load such an image.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jRccj5FEyF"}],"key":"hxdte95ps3"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Add a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bQjXX2kd2E"},{"type":"inlineCode","value":"try/except","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OEmjgW3IUN"},{"type":"text","value":" statement to your function around the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RUJAWMzgCI"},{"type":"inlineCode","value":"wcs=","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ahogN0SnFp"},{"type":"text","value":" line. Try loading a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"X9PUKh5Fjc"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UfKUxLuc5d"},{"type":"text","value":" as we did above, but if there is an exception, continue, and return the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"L5SErlIKx8"},{"type":"inlineCode","value":"im","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y8MNlhzq2c"},{"type":"text","value":" (image pixels) and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y9TI16q0vv"},{"type":"inlineCode","value":"None","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ux58SjMjCe"},{"type":"text","value":" for the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"akHJF0rfEh"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Of0vmt0uDE"},{"type":"text","value":" return. Optionally, print a message that this occurred.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yuTVjYYNOm"}],"key":"MaYms3KPMm"}],"key":"L1qcn3LVof"}],"key":"erCTj3fgpp"}],"data":{"type":"notebook-content"},"key":"VymjHHwaTJ"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 1.3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XC1z4agEUQ"}],"key":"cMbcoXKNgC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Use your new ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rgtliGHAwL"},{"type":"inlineCode","value":"load_fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PXdKVK25cJ"},{"type":"text","value":" function to read in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RS60L1RYVW"},{"type":"inlineCode","value":"M33_halpha.fits","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qBwORdAKwn"},{"type":"text","value":" file. Save the output of the function into the variables ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"T21cMQeojX"},{"type":"inlineCode","value":"m33_im","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yQpKSeql0F"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HhTksEkAV4"},{"type":"inlineCode","value":"m33_wcs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MvBeRfa6SH"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t0v2gdcT8U"}],"key":"DNsKI5ltMU"},{"type":"admonition","kind":"tip","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"weP1fhbYqi"}],"key":"jej3fChN57"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"If you get an error about ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"FYkTEXnnmo"},{"type":"inlineCode","value":"fits","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xnPeUnnr0H"},{"type":"text","value":" or ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Y0fzuE4rqN"},{"type":"inlineCode","value":"WCS","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"SvQmkhPeiQ"},{"type":"text","value":", make sure you’ve ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kBRX2hjbeC"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"imported","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RXHkss261i"}],"key":"iutFnykiVM"},{"type":"text","value":" those functions from astropy in your file!","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iB8Eg6tWgI"}],"key":"lri6J41J2t"}],"key":"q72eW4l86T"}],"key":"tjGEN3AKe3"}],"data":{"type":"notebook-content"},"key":"D1r16iserR"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2.1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FHANX7efnu"}],"key":"rEf7M6V6Da"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Let’s visualize the image we have loaded.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Cgy2XVuPUz"}],"key":"e6zE7T7GBB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Use the matplotlib ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p2LZcBkQvX"},{"type":"inlineCode","value":"imshow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ycOm6wA4GS"},{"type":"text","value":" command to plot the image. To see anything useful, you will need to set the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"L9giJ85MnK"},{"type":"inlineCode","value":"vmin","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"phtXh4xRYX"},{"type":"text","value":" and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"KQTOykLIxE"},{"type":"inlineCode","value":"vmax","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XH5UpNGCZT"},{"type":"text","value":" arguments --- a convenient choice is to compute the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gRsSWBJnOe"},{"type":"inlineCode","value":"np.percentile","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CliZl3RCsQ"},{"type":"text","value":" of the data at ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"xLpPwuvNhp"},{"type":"inlineCode","value":"[1,99]","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"AXCTykBNJT"},{"type":"text","value":" and to set those as the min and max scalings.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"PbV9GFM3eG"}],"key":"GkPyrSJrAi"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Additionally set ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"aM0NTDieNe"},{"type":"inlineCode","value":"origin='lower'","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"MuXRwuiwNY"},{"type":"text","value":" and ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tMtUA3uWBe"},{"type":"inlineCode","value":"cmap='gray_r'","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"a71Mp3hui9"},{"type":"text","value":" in your imshow call.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RxiAfPUjvB"}],"key":"uNIUbIo5Tg"}],"key":"HHkVQuLMuN"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"I suggest a figure size of 10 by 10 inches. Remember we can call ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qrYOzmub8u"},{"type":"inlineCode","value":"fig, ax = plt.subplots()","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TmJUs38xuR"},{"type":"text","value":" to make our figure and axes objects (so here, ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eBdqbSMXua"},{"type":"inlineCode","value":"fig,ax=plt.subplots(figsize=(10,10))","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Etz8fiLGrF"},{"type":"text","value":").","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"pfH3Fr1iP3"}],"key":"aqUi4J0OES"}],"key":"qwM2Lh51a9"}],"data":{"type":"notebook-content"},"key":"T9HKtX1Reh"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2.2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GvcmgHBkrt"}],"key":"qWPZtlFXob"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This is already a few lines of code, and we ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FsFTAuuD2M"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"often","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lpL0Q0RW3b"}],"key":"ErAhvmRwhD"},{"type":"text","value":" need to plot astronomical images. Let’s now make a function that can streamline some of these lines of code above for us.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"dPovr46NBm"}],"key":"OV66yuxPhG"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"First define a function ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bkTlnow0t9"},{"type":"inlineCode","value":"implot","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"m5swzizXh6"},{"type":"text","value":". The first argument should be a variable ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BQndy3AOel"},{"type":"inlineCode","value":"path_or_pixels","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"t8PzSZmHKR"},{"type":"text","value":". We’re going to allow users to either provide a file name to a ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HBvYJKi26c"},{"type":"inlineCode","value":"fits","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"njnzMxDOVF"},{"type":"text","value":" file directly, or provide an image array (as we did above). To handle this, write some logic using the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"h1w4fkxIkC"},{"type":"inlineCode","value":"isinstance()","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"p81aI6vseM"},{"type":"text","value":" python function to check whether the input is an array or a string, and if it is a string, use the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"tDkWr83uOy"},{"type":"inlineCode","value":"load_fits","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Isw2c9g9Ig"},{"type":"text","value":" function we wrote in Exercise 1 to load the image. (Otherwise, we’ll just set our image to be the ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NC34g0Hx2m"},{"type":"inlineCode","value":"path_or_pixels","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Q79hCngqPd"},{"type":"text","value":" input, assuming it is an array. You could use ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JpGpVfFKPQ"},{"type":"inlineCode","value":"isinstance()","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Pt8PtG223g"},{"type":"text","value":" again to check if it is a numpy array and raise an exception if not, optionally.)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"w8IVMelAYw"}],"key":"IiCchqNDl1"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Include as arguments the following:","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kJyeaRfY7Z"}],"key":"O6CbwRCh4V"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"inlineCode","value":"percentiles","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"abicP9zGyn"},{"type":"text","value":" (","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ekT5IpC78x"},{"type":"inlineCode","value":"list","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"gTNNJd39Ik"},{"type":"text","value":") (which will let users scale ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"EpUeTz2eaA"},{"type":"inlineCode","value":"vmin","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Gje3LwYiqj"},{"type":"text","value":" and ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qLGreCz34I"},{"type":"inlineCode","value":"vmax","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TS9gafY9u0"},{"type":"text","value":", set to a default of ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RQcDlTv0HT"},{"type":"inlineCode","value":"[1,99.5]","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"S2dbMEMa6v"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"TJISCk4UY2"}],"key":"gZ0JtVnLi3"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"inlineCode","value":"figsize","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"D0IVNjilyN"},{"type":"text","value":" (","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"WdeR9Pronx"},{"type":"inlineCode","value":"tuple","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"T1BWPBxGWT"},{"type":"text","value":"): an optional argument with a default set to something like (8,8).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JmCgOEWfC9"}],"key":"F2ibN0oROi"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"inlineCode","value":"cmap","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"foskB5Bs0K"},{"type":"text","value":" (","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Qc6uVfhYGW"},{"type":"inlineCode","value":"str","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wErQX88BNq"},{"type":"text","value":"): argument with a default of ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"m483Xy60QR"},{"type":"inlineCode","value":"'gray_r'","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PYMxSUOITB"},{"type":"text","value":", passed along the ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pEpiDjQ6NN"},{"type":"inlineCode","value":"imshow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ISOmZnZbgZ"},{"type":"text","value":" command, giving us control over the plotting color mapping.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WGD23X8Ry9"}],"key":"pywiIm4FEq"}],"key":"sKqPZf10u5"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Your function should ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mCybXJQXU3"},{"type":"inlineCode","value":"return","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"GE9i0QC3aA"},{"type":"text","value":" the ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"aDOcHJ7byE"},{"type":"inlineCode","value":"fig","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"M4CZZaAscR"},{"type":"text","value":" and ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"TeGpqtZPtT"},{"type":"inlineCode","value":"ax","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zhqCsuERIk"},{"type":"text","value":" objects it created.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"i56d5nxE09"}],"key":"Ie87ufXP6h"},{"type":"admonition","class":"dropdown ","children":[{"type":"admonitionTitle","children":[{"type":"emphasis","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Hint: isinstance()","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"jF80htyUeP"}],"key":"sH0bQP3WJh"}],"key":"aiiefL1XSu"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"If you haven’t used ","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"nKp5wVytzd"},{"type":"inlineCode","value":"isinstance()","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"ITXjXX4EEK"},{"type":"text","value":" yet, here’s a primer.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"ACJVR3qgwo"}],"key":"dh1WY49IDq"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"When we want to check the ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"tVaYhQ72El"},{"type":"inlineCode","value":"type","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"yTCyte9jyO"},{"type":"text","value":" of a variable, we can use ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"akkJSzzCaQ"},{"type":"inlineCode","value":"type(var_name)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Wx6IicqY8D"},{"type":"text","value":" to see its typename. When we want to check or ensure that a variable’s type matches some desired type, we can use ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"G7MKE7iAaz"},{"type":"inlineCode","value":"isinstance(variable,type)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ekENPQWi0d"},{"type":"text","value":" to return ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"q1mbZzpU9T"},{"type":"inlineCode","value":"True","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ykt1o4mVaY"},{"type":"text","value":" or ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"K2WpNYJSSV"},{"type":"inlineCode","value":"False","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Ki10otWwKM"},{"type":"text","value":". For example, ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"X9imzHRPrj"},{"type":"inlineCode","value":"isinstance('test',str)","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"sOeFudL9lR"},{"type":"text","value":" would return true, because the input ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"kophYMmDqm"},{"type":"inlineCode","value":"'test'","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"tSuTXafx4t"},{"type":"text","value":" is a string. The names for the built-in types are ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"FJ2L5akCnN"},{"type":"inlineCode","value":"str","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"rehgyXPgRI"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"GC3dXUE5ih"},{"type":"inlineCode","value":"bool","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"qsZLLUystM"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Mta5ljYSVa"},{"type":"inlineCode","value":"list","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"fGGjgYiA3I"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"s1oQfsA2I5"},{"type":"inlineCode","value":"dict","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Qhm7plzd5f"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Trb3QHSZg0"},{"type":"inlineCode","value":"tuple","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"J6s0Ci28Td"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Eyb6lY4nxs"},{"type":"inlineCode","value":"float","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"HPAwnWPXOp"},{"type":"text","value":",","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"enF5qs3wh2"},{"type":"inlineCode","value":"int","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"bJjDzM53E1"},{"type":"text","value":", etc. For a ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"L6saGG55ia"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"D3FhSOrjbp"},{"type":"text","value":" array, its “type” is ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ULevWwtnzL"},{"type":"inlineCode","value":"np.ndarray","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Kz4VfVhZsP"},{"type":"text","value":".","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"xUg3oTzhQd"}],"key":"W4hQE2eRxZ"}],"key":"z510Qe0Nqo"},{"type":"admonition","class":"note ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"TQW0CX94ww"}],"key":"ItvVT8KT5Y"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"We haven’t covered how to type-hint multiple allowed types yet. Here’s a preview hint if you want to include it, but you don’t have to:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Xd4M7Idtu3"}],"key":"BnrM43rQYk"},{"type":"code","lang":"python","value":"from typing import Union \ndef func(arg: Union[np.ndarray,list]):\n    ...","position":{"start":{"line":28,"column":1},"end":{"line":32,"column":1}},"key":"O2Oqxnq3Q6"}],"key":"shXHBFvpkd"}],"key":"rGaPkg9tqL"}],"data":{"type":"notebook-content"},"key":"z1Tph3BxCA"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2.3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o1khLWwspo"}],"key":"aFXasiecDH"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Try out your function to make sure it is working as expected --- try inputting both our image array from above, as well as the file name. Try changing the percentiles and figsize and make sure the function responds accordingly.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d5qr6MJoDY"}],"key":"I779IeAwz1"}],"key":"FiDSJhTc9F"}],"data":{"type":"notebook-content"},"key":"CJjq2llwjg"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2.4","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oOcatUMH6c"}],"key":"wBc5sLjBeY"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Now we want to incorporate the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"VKzqNMyUuP"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"oe1ahy1L1j"},{"type":"text","value":" into the mix.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ph0OzCsUX9"}],"key":"XX1yE7LUcU"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"MwDLlcyerP"}],"key":"ixlvc6KlY7"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"A WCS object encapsulates the “world coordinate system”, which indicates where on the sky an image is pointed. You can think of these coordinates like latitude and longitude on Earth, but for the full sky. We’ll learn more about these objects later, but for now, know that a ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xT0u7kaJ7k"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IvYSzBbJgD"},{"type":"text","value":" object can be constructed from the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XKlnlyMdaj"},{"type":"inlineCode","value":"fits","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zJppgQpLbZ"},{"type":"text","value":" file header (when the image has that information), and tells our plotting code how to map between a pixel position and a sky position under the hood.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"y4X6SsBvvN"}],"key":"uZVTn95xTJ"}],"key":"gYDfWL31p0"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Currently, a ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ZlyxqtSubS"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"D9kzYwL1I7"},{"type":"text","value":" will be accessible if the user provides the path to a file that has one. Now, add an optional argument to your function ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"G952DazJFJ"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"WrscDJvL4I"},{"type":"text","value":" with a default of ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eled4OhgRc"},{"type":"inlineCode","value":"None","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Kot42dP948"},{"type":"text","value":". Add logic so that if the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"c4v2JYX3Km"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eRcK5UevOc"},{"type":"text","value":" is not ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"R6ZzInWJQu"},{"type":"inlineCode","value":"None","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"gWngGPpcZZ"},{"type":"text","value":" (either from loading an image, or after the function input), we add the following to our subplots command:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"kjv1oKqseJ"}],"key":"O5X6SyqTme"},{"type":"code","lang":"python","value":"fig, ax = plt.subplots(figsize=figsize,subplot_kw={'projection':wcs})","position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"key":"ZAsg5UsNkx"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"What this does is turn our regular axis into a ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ZYFxQJqUG4"},{"type":"inlineCode","value":"WCSAxis","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"WScvaRvpaA"},{"type":"text","value":", which can handle plotting astronomical units along the axes of our image.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"QDqidsKqOM"}],"key":"QkjxQhSMzh"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Try your function again, but this time add the ","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"K4bQBctt5w"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"oKphHgU2Fb"},{"type":"text","value":" we created in the previous exercise. How do your plot axes change?","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"RYX9WBOkeo"}],"key":"cRFwLf6SUG"},{"type":"admonition","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Extra Feature (optional)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"KvfbDs6CMD"}],"key":"OydjBUxUc7"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"At the moment, the user ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"DNEsYecAsJ"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"chooses","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"iGAZtYYREn"}],"key":"lT4QWfehu2"},{"type":"text","value":" whether to provide a wcs for the pixels case, but we ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ZrD3EdNMEn"},{"type":"emphasis","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"force","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"zWn1X07EFQ"}],"key":"DDUQBfkwMN"},{"type":"text","value":" a wcs plotting if a path to a fits file that contains a wcs is provided. This should be the default case, but it might be nice to give the option to turn that off. The easiest way to accomplish this is to add an ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"QXBWvag3gh"},{"type":"inlineCode","value":"ignore_wcs","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"FlW6av9rIW"},{"type":"text","value":" optional argument to your function which has a default of ","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ZDpD2OKgcl"},{"type":"inlineCode","value":"False","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"jvBUIRzShT"},{"type":"text","value":". Thus, given an image file path, we can plot using coordinates by default, or the raw pixels by ignoring any wcs present. This works too if we provide a wcs but want to easily toggle it on and off.","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"pVwbx5H2bM"}],"key":"g48HJKkp2G"}],"key":"Pl7kgVQTmV"}],"key":"IiItkYeBEv"}],"data":{"type":"notebook-content"},"key":"Xr1V8hXo0X"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2.5","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"najSoXuXog"}],"key":"tcVvlVUNrp"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Try out your function again, using both the fits file string and the array, but now try all your toggles --- i.e., fits file string, fits file string plus ‘ignore_wcs’ if you added that feature, array input, array input + wcs object input. Do you get the proper behavior? Below is an example of what the output should look like for default loading of the image.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"l1TlvL25Wd"}],"key":"W9fRrzO0tT"}],"key":"lNUVsY8PEe"}],"data":{"type":"notebook-content"},"key":"hYnmtDWWw7"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There are now 13 lines of logic in our function, and hopefully it is becoming clear why making such a function is so useful --- we can now very quickly and easily load and plot any fits file, or any array we have on hand, with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bjrpxhfCi4"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aTWs4q9ZUG"},{"type":"text","value":" on or off, with limits setting, all in one line.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u7qCisEGZB"}],"key":"sHl9tgSPhX"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"j7WXO3G3Uu"}],"key":"zNyv2J8K51"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"It is a good idea to ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xX9CKptMTT"},{"type":"inlineCode","value":"return","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FpoIaLR3sa"},{"type":"text","value":" the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zX6PQySIFO"},{"type":"inlineCode","value":"fig","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"eja1nZeCOl"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"K7B9gI5IrD"},{"type":"inlineCode","value":"ax","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"EUwLGOBHOy"},{"type":"text","value":" objects at the end of our function. This is useful because if we want to add to our plot (say, add a circle somewhere, or text), or ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"v6pAggzjmx"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"change","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"I7w1LLjZw6"}],"key":"toHeoTKZMQ"},{"type":"text","value":" our plot (adjust the limits, etc.) we need to be able to access those objects. As we learned when we discussed ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ozRuweMEKv"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"scope","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ACvcdOYNXW"}],"key":"Gg6d7SFSkb"},{"type":"text","value":", anything from inside a function that we want access to after the function has been run must be ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kv0IdKm1GF"},{"type":"inlineCode","value":"returned","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IWO44vLoVu"},{"type":"text","value":" back to the larger scope of the python script we are working in.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fFo65RJfx0"}],"key":"DPGk1ADCHT"}],"key":"nrBW6UD4Ed"}],"data":{"type":"notebook-content"},"key":"aBqPpHNrwq"},{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part II: The Size of HII Regions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P9Qcq8WTM4"}],"identifier":"part-ii-the-size-of-hii-regions","label":"Part II: The Size of HII Regions","html_id":"part-ii-the-size-of-hii-regions","implicit":true,"key":"WRJ8ZgD5Vv"},{"type":"admonition","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Science","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fIuHaIPQv2"}],"key":"PJS0eY5sJx"}],"key":"irpduKk7sO"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For the rest of the assignment, we will be investigating the physical size of HII regions in nearby galaxy M33. Not sure what that means? Here’s a quick primer.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fl1kZ6WwCj"}],"key":"KW44UmmvvQ"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Stars form of many different masses (from much smaller than the sun to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CNYy7esf1f"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"much","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Fxuyzoy1Ij"}],"key":"Ea8Qs7NbE9"},{"type":"text","value":" larger), with many more low mass stars forming than massive stars","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"bB3JyiCpAo"},{"type":"inlineMath","value":"^*","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsup\u003e\u003cmrow\u003e\u003c/mrow\u003e\u003cmo\u003e∗\u003c/mo\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e^*\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6887em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.6887em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mbin mtight\"\u003e∗\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"FpcnngTfEX"},{"type":"text","value":". While very few high mass (e.g., 3-10+ ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BqfmmbmUsA"},{"type":"inlineMath","value":"M_{\\odot}","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eM\u003c/mi\u003e\u003cmo lspace=\"0em\" rspace=\"0em\"\u003e⊙\u003c/mo\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eM_{\\odot}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8917em;vertical-align:-0.2083em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eM\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2583em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e⊙\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.2083em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"ifbyD5MGxt"},{"type":"text","value":") stars form at a time in a galaxy, they have an outsized effect, dominating the light of the low mass stars (though they live much shorter lives). They are also the only stars (dubbed O-type) who put out significant light in the ultraviolet part of the spectrum. We know that our own sun does emit ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"htb2lEALY6"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"some","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zjae1bR8WH"}],"key":"hnJG7OsFEF"},{"type":"text","value":" light in the UV (that’s the more high energy, dangerous light that can give us cancer, hence sunscreen), but these stars pump out ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PxSQyos4bV"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"most","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IKRsw7uXAj"}],"key":"THr6LJzGtw"},{"type":"text","value":" of their light in the UV.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"aAjNC6dplI"}],"key":"dbJo0GNh2O"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"UV light has enough energy to ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"AT7XmO9WyE"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"ionize","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rvVhZJDCfp"}],"key":"wqCh9zCmPt"},{"type":"text","value":" the atoms in gas (especially hydrogen gas), which means to knock the bound electron out of the atom and leave behind a proton and an electron. In some equilibrium, these electrons ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"V6fCFNCGTj"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"recombine","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"dVBk6L9VSV"}],"key":"N6oBVip8tJ"},{"type":"text","value":" with protons, and the electrons ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rDtA8tVQHN"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"cascade","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"PkT7lABKyd"}],"key":"EIIIhprIwG"},{"type":"text","value":" through several energy levels as they fall toward the ground (most bound) state. For each gap they drop, the atom emits a photon with an equivalent energy to the difference between the levels traversed.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ZYfyHXWXZM"}],"key":"qcCZtysDyG"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"This process of recombination produces light at specific wavelengths, so when you look at planetary nebulae, star forming regions, or supernova remnanta (see below), the colors are representitive of the different elements and energy levels being traversed.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"U4Am7oinjv"}],"key":"ifWArIQ23K"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"image","url":"/build/eagle-ade9779fab06ef18b8a3a7eb705cc974.jpg","alt":"eagle nebula","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"zY5DtOduLs","urlSource":"eagle.jpg"},{"type":"text","value":"\n","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"cpskt2Ifhk"},{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"The Eagle Nebule, where we can see the hollow region being blown out by young stars (with the famous pillars of creation remaining, soon to be whittled down. Credit: ESO","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OMi3xaWS3D"}],"key":"WIHiAngVQt"}],"key":"ODt77blPoi"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Bright, young stars actually put out enough radiation to “blow out” and push on the gas remaining from the clouds from which they formed. This carves our roughly spherical regions known as Strömgen spheres, the inner boundary of which is usually lit up in this ionized emission. The ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"yGyCh8J3FE"},{"type":"emphasis","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"size","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"N1eJ6DW0Lv"}],"key":"heWyKW9BFo"},{"type":"text","value":" of the sphere blown out depends on the total amount of flux coming from the bright stars, which in turn depends on how many of them there are.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ytA3jMTidk"}],"key":"q2I7aiowje"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"In our image of M33, we can see lots of these roughly spherical regions being highlighted by the narrow, H","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ub5ldzl2tU"},{"type":"text","value":"α","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"PnY2dbsBYW"},{"type":"text","value":" filter being used to observe the galaxy. By measuring their size in pixels and using our knowledge of the distance to M33, we can perform some simple trigonometry to determine their actual physical sizes. As a bonus, we can then roughly estimate the number of O-type stars responsible for the visible HII region. (note that Starforming region and HII region are roughly synonymous; HII is the chemical name for ionized hydrogen).","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"XgJcK2mAuM"}],"key":"KcASkskd0q"},{"type":"admonition","class":"dropdown ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"*","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"rm88LlN31W"}],"key":"LzvGbOCTLp"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Stars that form together out of one more massive cloud have masses drawn from what is called an initial mass function, or IMF, which is roughly exponential.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"A8DyoMS6K4"}],"key":"P6sGankvAh"}],"key":"tVZ0orTJxh"}],"key":"O6LVzJmXnU"}],"data":{"type":"notebook-content"},"key":"h1lH4BCh0g"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RBJEKjxXcJ"}],"key":"V1NMVqw7e0"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"While we can see by eye lots of small HII regions scattered around M33 in our image, to do a more careful analysis of the sizes we will need a way to crop our images to just focus on one HII region at a time.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nvfTCkwqCB"}],"key":"ABqIv3rvLr"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"There are fundamentally two ways to carry out this crop. We can work in units of image pixels, and use ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kHBteA1eMv"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"array indexing","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"peYhIaLqQS"}],"key":"gD66YrIZLy"},{"type":"text","value":" and ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"acBGjlZQaH"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"slicing","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LM4Ttxq6tC"}],"key":"BKzGaR1gcw"},{"type":"text","value":" to select subarrays containing out HII regions. Or, we could use our ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u6UP4EDfSU"},{"type":"inlineCode","value":"wcs","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"b0Iaz6Ui1Q"},{"type":"text","value":" objects to pick central coordinates on the sky and a size (in sky angular units) to crop in on, and use an ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"l9CzZkpLak"},{"type":"inlineCode","value":"astropy","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qXA6MrHijw"},{"type":"text","value":" tool to do the crop.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gENZrahNrK"}],"key":"dPESIIOXCx"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"In this exercise, we will work with the pixels, as it will be good practice for our array indexing and slicing.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"f3dH0pVK4e"}],"key":"RHXiBA9tJ6"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Our first step is actually determining the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iii1XPC76l"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"pixel coordinates","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"lpeFYEPZR9"}],"key":"yKC1xB6WRU"},{"type":"text","value":" of a given HII region. While there are more complex methods we could write, it is not so hard to do this by eye. That said, a simple ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"lvAygLdCYX"},{"type":"inlineCode","value":"crosshairs","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"RoF3VcmjzB"},{"type":"text","value":" function would help us know that our chosen coordinates land right on an HII region.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"c5YeTeibPV"}],"key":"f8HfU232dB"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"hvyiAhyD1k"},{"type":"inlineCode","value":"crosshairs","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"nVjLmIwWxO"},{"type":"text","value":" which takes in ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"n9Rj6K3Le8"},{"type":"inlineCode","value":"crosshairs(ax,x,y)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RmWFkv8gIx"},{"type":"text","value":". It should then use ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"LEdMOjVbnZ"},{"type":"inlineCode","value":"ax.axvline(x)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"NQj1OwBGJs"},{"type":"text","value":" and similarly ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jg508TqyoH"},{"type":"inlineCode","value":"ax.axhline(y)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"G5PjQFwf7e"},{"type":"text","value":" for ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BiibBBjRXP"},{"type":"inlineCode","value":"y","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Lnd509vxtd"},{"type":"text","value":" to plot a crosshairs over our image at some coordinates. Return ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"KvOOANdVJ1"},{"type":"inlineCode","value":"ax","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"dnrh6tgF9w"},{"type":"text","value":" when done.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"LourK2dwPw"}],"key":"oMkUwkJs28"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Run you function for position (995,1445). Are you right on an HII region?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"YdIt6mDeX6"}],"key":"nlZIHP9j5D"}],"key":"syuYmPXgal"}],"key":"cEFqHccEns"}],"data":{"type":"notebook-content"},"key":"NzwPFrmiw9"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LgRuetog2a"}],"key":"D4kNQt62Ol"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Now that we have a set of starting coordinates, we want to crop our image down to a certain window around our coordinates which contain the HII region.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mHV4C8Qd57"}],"key":"ykFxyvEIlX"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"q4pUN5vGMF"},{"type":"inlineCode","value":"crop_image","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"qI2KaKgqXS"},{"type":"text","value":" which takes in the image array, (x,y) central coordinates, and a window size in pixels. Your functiuon should compute the half-window size (integer division of input window by 2), then index the image from the central coordinates +/- the half-window size. It should return the new image.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hkmySMXrfT"}],"key":"KBlRCkNIbZ"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Use your ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Hxjzuw1Y78"},{"type":"inlineCode","value":"implot","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LYi73JjzpB"},{"type":"text","value":" function to show a new image output by your ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mFTF0ZXw4Y"},{"type":"inlineCode","value":"crop_image","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"l2RCJObDIj"},{"type":"text","value":" function using the above coordinates and a window size of 50 pixels.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DKqPaPZMJH"}],"key":"SKKVa2stgB"}],"key":"Mt5zOxVt91"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint","key":"NFjCX9UAlm"}],"key":"vvuTkJbBwW"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Remember that arrays are indexed by row first, then column! This means in our bracket indexing, “y-value” indexing comes first, then “x-value” indexing.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"DhIWB5xFzZ"}],"key":"mShz6GKQmN"}],"key":"Ddq8N5RPYk"}],"key":"LoxMnBjdpO"}],"data":{"type":"notebook-content"},"key":"zfOXXxpIuo"},{"type":"block","children":[{"type":"code","lang":"python","executable":true,"value":"# Here is an an example of ~what you should be seeing","visibility":"show","key":"v4VtG91s7j"},{"type":"output","id":"4aoobELLNlqxrNcy9PfKk","data":[{"output_type":"execute_result","execution_count":43,"metadata":{},"data":{"text/plain":{"content":"(\u003cFigure size 700x700 with 1 Axes\u003e, \u003cAxes: \u003e)","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ebab54133709ccf41110fd70439fd6ba","path":"/build/ebab54133709ccf41110fd70439fd6ba.png"},"text/plain":{"content":"\u003cFigure size 700x700 with 1 Axes\u003e","content_type":"text/plain"}}}],"visibility":"show","key":"tYOzdn4X2c"}],"data":{"type":"notebook-code","tags":[]},"visibility":"show","key":"HToFJ5v6Xf"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S924JsJDUD"}],"key":"n5WkuAIQF2"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"You should hopefully now have a nice, circular feature filling most of your plotted image. This is our HII region!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mh7GWBtY56"}],"key":"LnrdyKFHeM"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"In order to estimate its radius in pixels, we’d like to place a circle down that lines up with the ridge of emission defining the circle (and adjust our center as needed, as our by-eye estimate from the full image was likely not perfect.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RsTKGm6y8Z"}],"key":"lhY5JXRY5U"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Recall that we can compute the x and y values of a circle with position ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ztbWBPqHZu"},{"type":"inlineMath","value":"(x_0,y_0)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/msub\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/msub\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e(x_0,y_0)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3011em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3011em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"AfJIRgMXFT"},{"type":"text","value":" and radius ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"G9m2y7wkJG"},{"type":"inlineMath","value":"R","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eR\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eR\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"hGqokY17cy"},{"type":"text","value":" via ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IWyvgZIXfC"},{"type":"inlineMath","value":"x(\\theta) = x_0 + R\\cos(\\theta)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eθ\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/msub\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmi\u003eR\u003c/mi\u003e\u003cmi\u003ecos\u003c/mi\u003e\u003cmo\u003e⁡\u003c/mo\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eθ\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ex(\\theta) = x_0 + R\\cos(\\theta)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eθ\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3011em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mop\"\u003ecos\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eθ\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"o96xwxQZNr"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JGCfNkns5R"},{"type":"inlineMath","value":"y(\\theta) = y_0 + R\\sin(\\theta)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eθ\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmsub\u003e\u003cmi\u003ey\u003c/mi\u003e\u003cmn\u003e0\u003c/mn\u003e\u003c/msub\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmi\u003eR\u003c/mi\u003e\u003cmi\u003esin\u003c/mi\u003e\u003cmo\u003e⁡\u003c/mo\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eθ\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ey(\\theta) = y_0 + R\\sin(\\theta)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eθ\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3011em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e0\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mop\"\u003esin\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eθ\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"OLHCEI1IkB"},{"type":"text","value":". Write a function ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"D29F9yr4Nm"},{"type":"inlineCode","value":"add_circle(ax,x,y,r)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tBhTmEfr1i"},{"type":"text","value":" which takes in our image ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NBwdzNq5Fu"},{"type":"inlineCode","value":"ax","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZV4Rvh1jXU"},{"type":"text","value":", creates an array of ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HwSEEw9yh5"},{"type":"inlineCode","value":"theta","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"g4MZJFzSFx"},{"type":"text","value":" values from 0 to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PMV8stM2X7"},{"type":"inlineMath","value":"2\\pi","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmn\u003e2\u003c/mn\u003e\u003cmi\u003eπ\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e2\\pi\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e2\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003eπ\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"afq6ENSv1C"},{"type":"text","value":" (Hint: ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fWwi090vOC"},{"type":"inlineCode","value":"np.linspace()","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"l6oKHToI2g"},{"type":"text","value":" is good for this), computes the arrays for the x and y positions of the circle based on its center and radius, plots them using ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jEBx06PijH"},{"type":"inlineCode","value":"ax.plot(x,y)","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"X8XtCmvwnH"},{"type":"text","value":" over the image, and returns the ax.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"m0ZXYTFgXr"}],"key":"XPSbLAuJib"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Use your function to determine the new center and radius ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"eCdjxYpdWc"},{"type":"inlineMath","value":"R","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eR\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eR\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"kUu58KvR4w"},{"type":"text","value":" of this HII region.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"M5JjTMVF8v"}],"key":"ETeOhtiyzH"}],"key":"I0wIPTrt3E"},{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Warning","key":"QNUcbKWX5U"}],"key":"hzzu5vVd9N"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"When you crop from the full image to the zoom image, you have a new array with a new shape. Our original coordinates no longer matter; your ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"G6OtVSz0wR"},{"type":"inlineMath","value":"x,y","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ex,y\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"WfSP8cf9MA"},{"type":"text","value":" center is the center of the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"uxFfMoaiX1"},{"type":"emphasis","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"new","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zKrTR3evPg"}],"key":"CyjFghYEpu"},{"type":"text","value":" array, which should have a shape of 50x50.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zWyVrSC6B5"}],"key":"Pg9vwb7o1p"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"So starting with a center of 25,25 makes sense here. If you want to know what these coordinates refer to back in the original image, you’ll have to do a coordinate transformation to “uncrop” them --- calculate the coordinates of the left and bottom edge of the crop region and add the new center in ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"MWfbEaGWRz"},{"type":"inlineMath","value":"x,y","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ex\u003c/mi\u003e\u003cmo separator=\"true\"\u003e,\u003c/mo\u003e\u003cmi\u003ey\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ex,y\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003cspan class=\"mpunct\"\u003e,\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"prHILKRbvl"},{"type":"text","value":" to those.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"QwGy7kKCwp"}],"key":"kHGXbpaJR0"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"We don’t need to do that here, as we’re interested in ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"e9BoYpcvO5"},{"type":"inlineMath","value":"R","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eR\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eR\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"V3tcJeVrvo"},{"type":"text","value":" (which is preserved in the crop as the pixel scale has not changed), but not the precise ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"nGsQw4DWwg"},{"type":"inlineMath","value":"x","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ex\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ex\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003ex\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"q9fpAoz3jm"},{"type":"text","value":" or ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xM0RrZDC31"},{"type":"inlineMath","value":"y","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003ey\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003ey\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003ey\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"SFNxGYELIr"},{"type":"text","value":" in original image coordinates.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"VuEOHRErKV"}],"key":"CzVrvSOT74"}],"key":"syElPRn7Ld"}],"key":"YCDfPEMvjv"}],"data":{"type":"notebook-content"},"key":"fkYOdsajmp"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.4","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t2DbWHWspo"}],"key":"YZklo8rOXo"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now that we have a measurement of ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IXavPYWWHN"},{"type":"inlineMath","value":"R_{HII}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003eR\u003c/mi\u003e\u003cmrow\u003e\u003cmi\u003eH\u003c/mi\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmi\u003eI\u003c/mi\u003e\u003c/mrow\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eR_{HII}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3283em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\" style=\"margin-right:0.08125em;\"\u003eH\u003c/span\u003e\u003cspan class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\"\u003eII\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"GdWzjDDPXb"},{"type":"text","value":" in pixels, we need to begin converting this to a physical scale. We can do this because we know the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"M3NuHGRHFe"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"pixel scale","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Jfj4ZleGB6"}],"key":"NEv4f7DPxf"},{"type":"text","value":" of our detector, that is, how many angular degrees (here we’ll use the arcsecond) on sky does one pixel subtend. For example, if we have a pixel scale of 2.2, that means each pixel subtends 2.2 arcseconds on sky (roughly 0.0006 degrees).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EfVLkKXUDJ"}],"key":"jf4XsFq9pY"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We can then make a triangle --- the long edge is the distance in physical units to M33. The short edge is the length we want, the physical radius of the HII region, and ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FgKhT0N0qw"},{"type":"text","value":"θ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JELToX6shn"},{"type":"text","value":" is our measured angular radius, obtained by multiplying the radius in pixels by the pixel scale.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"kb5me9HAOi"}],"key":"TRP2hmS2a1"},{"type":"image","url":"/build/distance_trigonometr-a20c8616f53a4840f1a87cc02e9fac22.png","alt":"triangle of distance and radius","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qKgWI7Bs7A","urlSource":"distance_trigonometry.png"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"To perform the actual trigonometric step, we need to compute ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"dcrduAighy"},{"type":"inlineMath","value":"D\\tan(\\theta)","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eD\u003c/mi\u003e\u003cmi\u003etan\u003c/mi\u003e\u003cmo\u003e⁡\u003c/mo\u003e\u003cmo stretchy=\"false\"\u003e(\u003c/mo\u003e\u003cmi\u003eθ\u003c/mi\u003e\u003cmo stretchy=\"false\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eD\\tan(\\theta)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eD\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.1667em;\"\u003e\u003c/span\u003e\u003cspan class=\"mop\"\u003etan\u003c/span\u003e\u003cspan class=\"mopen\"\u003e(\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eθ\u003c/span\u003e\u003cspan class=\"mclose\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"RWVJbWzm8S"},{"type":"text","value":".","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NE2njvmwSc"}],"key":"E2XtgVy6tF"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BezSlKd5pn"},{"type":"inlineCode","value":"compute_size(distance,s_pix,pixel_scale)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"zmDhm3TLVZ"},{"type":"text","value":". Using the pixel scale, it should convert the size ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"OVrN7eTLDn"},{"type":"inlineCode","value":"s_pix","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"iU9A8FHX9m"},{"type":"text","value":" to arcseconds, then onward to degrees (there are 3600 arcseconds in a degree), then onward to radians for the trig function (","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"n7Dn2GNH7c"},{"type":"inlineCode","value":"np.deg2rad()","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"gb58Ofuvdf"},{"type":"text","value":" may be useful here). Then, using that, compute the size using the formula above and return it. The size output will have units equal to the length units that were assumed for ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"rsnrPajomb"},{"type":"inlineMath","value":"D","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eD\u003c/mi\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eD\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eD\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"R2JuklXYLN"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"TXbX9XHUMi"}],"key":"PkRtz5iKnL"}],"key":"fRnlvJyLEW"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"M33 has a distance of 0.869 Mpc (Megaparsec). Using your function, compute the radius of the HII region in parsec by converting the M33 distance to pc, then using your compute size function. Assume a pixel scale of 2.2. How big is this HII region?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qwHdPkGUOf"}],"key":"ooGO8E1Zzz"}],"key":"Oje74TPcxz"}],"key":"KRt16h8ql3"}],"key":"WRH7bi8SGr"}],"data":{"type":"notebook-content"},"key":"bgMgS3uzSg"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.5 (Bonus)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UPLdbc5zRH"}],"key":"NkzOLexjL6"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We can avoid the annoyance of unit conversions by using the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JMDNFEHNCK"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"s37NQATMKx"},{"type":"text","value":" library. Look up how to create astropy unit quantities, and rewrite your ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kyLr0tFWoN"},{"type":"inlineCode","value":"compute_size","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"E2h3UAK2Fd"},{"type":"text","value":" function to allow distance to be input in any unit, as well as the pixel scale. Then easily convert your output to ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kap2Xubb5r"},{"type":"inlineCode","value":"pc","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kFe4STpvxK"},{"type":"text","value":" at the end and return it.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ddDECW5azK"}],"key":"mdwK2gJIGi"}],"key":"EIN7il3v72"}],"data":{"type":"notebook-content","tags":[]},"visibility":"show","key":"FL5YkFdC4Y"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.6","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qCdBTFy670"}],"key":"K7fvCZqQBr"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Now that we know the physical size of the HII region (not a trivial feat!) we can actually go further. In a back-of-the-envelope sense, the radius of the full HII region can be approximated as that of a Strömgren sphere around a “single” high energy star.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kYbozLw51e"}],"key":"Nbu5j43mZr"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The formula for this radius is","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"puBhfCYus4"}],"key":"zGZsaa5tPD"},{"type":"math","value":"r_S = \\left(\\frac{3N^*}{4\\pi\\alpha n^2}\\right)^\\frac{1}{3}","position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003er\u003c/mi\u003e\u003cmi\u003eS\u003c/mi\u003e\u003c/msub\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmsup\u003e\u003cmrow\u003e\u003cmo fence=\"true\"\u003e(\u003c/mo\u003e\u003cmfrac\u003e\u003cmrow\u003e\u003cmn\u003e3\u003c/mn\u003e\u003cmsup\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e∗\u003c/mo\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cmrow\u003e\u003cmn\u003e4\u003c/mn\u003e\u003cmi\u003eπ\u003c/mi\u003e\u003cmi\u003eα\u003c/mi\u003e\u003cmsup\u003e\u003cmi\u003en\u003c/mi\u003e\u003cmn\u003e2\u003c/mn\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003c/mfrac\u003e\u003cmo fence=\"true\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cmfrac\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmn\u003e3\u003c/mn\u003e\u003c/mfrac\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003er_S = \\left(\\frac{3N^*}{4\\pi\\alpha n^2}\\right)^\\frac{1}{3}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003er\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3283em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.744em;vertical-align:-0.95em;\"\u003e\u003c/span\u003e\u003cspan class=\"minner\"\u003e\u003cspan class=\"minner\"\u003e\u003cspan class=\"mopen delimcenter\" style=\"top:0em;\"\u003e\u003cspan class=\"delimsizing size3\"\u003e(\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3657em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e4\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.03588em;\"\u003eπ\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.0037em;\"\u003eα\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\"\u003en\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7401em;\"\u003e\u003cspan style=\"top:-2.989em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e2\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e3\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.6887em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mbin mtight\"\u003e∗\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.686em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose delimcenter\" style=\"top:0em;\"\u003e\u003cspan class=\"delimsizing size3\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.7939em;\"\u003e\u003cspan style=\"top:-4.2029em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mopen nulldelimiter sizing reset-size3 size6\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8443em;\"\u003e\u003cspan style=\"top:-2.656em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size3 size1 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e3\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.2255em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line mtight\" style=\"border-bottom-width:0.049em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.384em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size3 size1 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.344em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter sizing reset-size3 size6\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"1","key":"SS3X6LfjUt"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"KuEjFW0Lrs"},{"type":"inlineMath","value":"N^*","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsup\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e∗\u003c/mo\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eN^*\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6887em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.6887em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mbin mtight\"\u003e∗\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"lVZzO77sZT"},{"type":"text","value":" is the ionizing photon rate from the OB star (typically ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"sENrzXLqri"},{"type":"inlineMath","value":"\\sim 10^{49}","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo\u003e∼\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmsup\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmn\u003e49\u003c/mn\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\sim 10^{49}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.3669em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e∼\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8141em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e49\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"byFdjaGSzI"},{"type":"text","value":" photon s","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NobvNjUsdA"},{"type":"superscript","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"-1","key":"XhqtaMLBYM"}],"key":"DBY9haPyt6"},{"type":"text","value":"), ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wlEhnAexDj"},{"type":"inlineMath","value":"\\alpha \\sim 3\\times10^{-13}","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eα\u003c/mi\u003e\u003cmo\u003e∼\u003c/mo\u003e\u003cmn\u003e3\u003c/mn\u003e\u003cmo\u003e×\u003c/mo\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmsup\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmrow\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmn\u003e13\u003c/mn\u003e\u003c/mrow\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\alpha \\sim 3\\times10^{-13}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.0037em;\"\u003eα\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e∼\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e3\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e×\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.8141em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.8141em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e−\u003c/span\u003e\u003cspan class=\"mord mtight\"\u003e13\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"uClWjw9eb2"},{"type":"text","value":" cm","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"f7GUb0n5gL"},{"type":"superscript","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"3","key":"vsR58HMOeg"}],"key":"m9Csue2Qop"},{"type":"text","value":" s","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"mZZDsf4Fyc"},{"type":"superscript","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"-1","key":"fvlictBrUi"}],"key":"vRWfI2n9N6"},{"type":"text","value":" is the recombination coefficient, and ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"OsTGQrCAJf"},{"type":"inlineMath","value":"n\\sim 10","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003en\u003c/mi\u003e\u003cmo\u003e∼\u003c/mo\u003e\u003cmn\u003e10\u003c/mn\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003en\\sim 10\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.4306em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\"\u003en\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e∼\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6444em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e10\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"HLHmgPy7iv"},{"type":"text","value":" cm","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hodcbGyags"},{"type":"superscript","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"-3","key":"L6PyOZmuFI"}],"key":"RalN3V54si"},{"type":"text","value":" is the number density.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"GjPLUPgPxZ"}],"key":"qkeKkcL6X0"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"We ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"FrDplduEHY"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"know","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"pTFtrsdtu0"}],"key":"n85Jpc90Mb"},{"type":"text","value":" ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"OW5VaBxI7D"},{"type":"inlineMath","value":"r_S","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsub\u003e\u003cmi\u003er\u003c/mi\u003e\u003cmi\u003eS\u003c/mi\u003e\u003c/msub\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003er_S\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003er\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.3283em;\"\u003e\u003cspan style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.15em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"i10whT5tGC"},{"type":"text","value":". Solve this equation instead for ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"U7ljcAgk9S"},{"type":"inlineMath","value":"N^*","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmsup\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e∗\u003c/mo\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eN^*\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6887em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.6887em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mbin mtight\"\u003e∗\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","key":"L44h5UeElQ"},{"type":"text","value":", writing a function that returns the value of","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"E3urbBKJti"}],"key":"u8D20KpyPf"},{"type":"math","value":"\\left(\\frac{N^*}{10^{49}}\\right)","position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmo fence=\"true\"\u003e(\u003c/mo\u003e\u003cmfrac\u003e\u003cmsup\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e∗\u003c/mo\u003e\u003c/msup\u003e\u003cmrow\u003e\u003cmn\u003e1\u003c/mn\u003e\u003cmsup\u003e\u003cmn\u003e0\u003c/mn\u003e\u003cmn\u003e49\u003c/mn\u003e\u003c/msup\u003e\u003c/mrow\u003e\u003c/mfrac\u003e\u003cmo fence=\"true\"\u003e)\u003c/mo\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003e\\left(\\frac{N^*}{10^{49}}\\right)\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.4em;vertical-align:-0.95em;\"\u003e\u003c/span\u003e\u003cspan class=\"minner\"\u003e\u003cspan class=\"mopen delimcenter\" style=\"top:0em;\"\u003e\u003cspan class=\"delimsizing size3\"\u003e(\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3657em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e1\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e0\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7401em;\"\u003e\u003cspan style=\"top:-2.989em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e\u003cspan class=\"mord mtight\"\u003e49\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"msupsub\"\u003e\u003cspan class=\"vlist-t\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.6887em;\"\u003e\u003cspan style=\"top:-3.063em;margin-right:0.05em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:2.7em;\"\u003e\u003c/span\u003e\u003cspan class=\"sizing reset-size6 size3 mtight\"\u003e\u003cspan class=\"mbin mtight\"\u003e∗\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.686em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose delimcenter\" style=\"top:0em;\"\u003e\u003cspan class=\"delimsizing size3\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"2","key":"B6sMF9uJld"},{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Having done so, you now have a function that given a radius and assumptions about particle density and recombination coefficient returns the “number” of OB stars driving the HII region! (Technically, we have an answer that is units of the typical OB star’s photon flux, so the actual number of stars could be lower if each is more massive and brighter and vice versa --- but this gives both the actual driving flux and an approximate order-of-magnitude estimate for the number of stars.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"NrXZZo6353"}],"key":"fItDG2AHbY"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Play with your function a bit, putting in values from 10 pc to 500 pc for the size, and see how the ionizing flux changes!","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"ye6zXIqRLr"}],"key":"G5pUxffKJB"}],"key":"URDNSSUhBj"}],"data":{"type":"notebook-content"},"key":"SuEhCc5dUx"},{"type":"block","children":[{"type":"admonition","class":"tip ","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 3.7: Putting it all together","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bv1eyqdbSf"}],"key":"eIZ7MZ8m84"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Throughout the course of this lab, you have written several shorter (and longer) functions. For our ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"crAKPWpt7z"},{"type":"inlineCode","value":"implot","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LnbdH3WOY2"},{"type":"text","value":" function, it is hopefully clear why having that function around is handy --- to set everything we included every time we wanted to quickly view some fits file or local array would be onerous; this function now makes it very easy to get a useful result in a simple one line call, with plenty of room to specify options if we desire.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GNAVIv5Mk5"}],"key":"Ewib0TUcd6"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"On the other hand, something we covered in lecture was that functions are most useful for ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wfeQ7RD1rT"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"reusable","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iPmGeQ2MsM"}],"key":"odWCiFzQMu"},{"type":"text","value":" bits of code. Thus far, though, we only measured one HII region. In theory, all of the computations we did along the way could have been done directly in our script or notebook and it would not have been that disorganized of a file.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EL1XBVhopp"}],"key":"UaAAi2LpBn"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Let’s now demonstrate why writing functions ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ueM4Lb895K"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"was","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rQDmL0fBri"}],"key":"Rv7e21i0EX"},{"type":"text","value":" useful, even for the small steps.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XpW6J9hVJ1"}],"key":"bWcEVfaP15"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Using the original image, pick ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"HaSGZ0JaTq"},{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"four more","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"O9MoifwEY1"}],"key":"OndjlPjhxO"},{"type":"text","value":" HII regions in the image of M33, and determine their physical sizes and number of OB stars.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Fr0NGFlPwZ"}],"key":"ViO7rwjkKn"}],"key":"IMmhN0o5kN"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Tasked with this, hopefully you will be able to re-use your defined functions to make locating and measuring the size of each much easier! Create section headings in your solution with each one. While the solution won’t be fully automatic, since we still have some by-eye assesment happening, the final code block for doing this whole measurement will only be a few lines long, calling our pre-made functions. As we move further into the semester, we will learn how to automate, e.g., finding the locations of features of interest and measuring the size of those features.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"FuXdUNap4C"}],"key":"LqogPmsEKq"}],"key":"MISpM4cFyQ"}],"data":{"type":"notebook-content"},"key":"KUTsP9GUH4"}],"key":"PHSowBA9St"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Week 4 Exercises","url":"/week4","group":"Week  4"}}},"domain":"http://localhost:3000"}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":false,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-FDC5A112.js";
import * as route0 from "/build/root-2CYAF5SQ.js";
import * as route1 from "/build/routes/$-ZDWRJY4B.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-K6EYMIDZ.js");</script></body></html>