<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Astro RPS</title><link rel="stylesheet" href="/build/_assets/app-LVHQOBTF.css"/><link rel="stylesheet" href="/build/_assets/thebe-core-SJEQ5G4L.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="block px-2 py-1 text-black underline">Skip to article content</a></div><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/"><div class="p-1 mr-3 dark:bg-white dark:rounded"><img src="/build/astro-rps-logo-5e1744e2e1dba761340324e371f9a0e6.webp" class="h-9" alt="Astro RPS" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="w-full px-1 dark:text-white"><a title="Astro RPS" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/">Astro RPS</a><a title="Course Topics" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/topiclist">Course Topics</a><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Lectures" class="block break-words rounded py-2 grow cursor-pointer">Lectures</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R3d8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3d8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Labs" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Labs</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R4d8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R4d8p:" class="pl-3 pr-[2px] collapsible-content"><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  1" class="block break-words rounded py-2 grow cursor-pointer">Week  1</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R3cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R3cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  2" class="block break-words rounded py-2 grow cursor-pointer">Week  2</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R5cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R5cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="open" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  3" class="block break-words rounded py-2 grow font-semibold text-blue-800 dark:text-blue-200 cursor-pointer">Week  3</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R7cd8p:" aria-expanded="true" data-state="open"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="open" id="radix-:R7cd8p:" class="pl-3 pr-[2px] collapsible-content"><a title="Week 3 Assignment" aria-current="page" class="block break-words focus:outline outline-blue-200 outline-2 rounded p-2 my-1 rounded-lg bg-blue-300/30 active" href="/assignment-w3">Week 3 Assignment</a></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  4" class="block break-words rounded py-2 grow cursor-pointer">Week  4</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:R9cd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R9cd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Week  5" class="block break-words rounded py-2 grow cursor-pointer">Week  5</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" type="button" aria-controls="radix-:Rbcd8p:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rbcd8p:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></div></div></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="sticky z-10 hidden h-0 col-margin-right-inset lg:block" style="top:60px"><nav></nav></div><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/https://astro-rps.github.io/" title="GitHub Repository: https://astro-rps.github.io/" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative" id="headlessui-menu-button-:R1khtop:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="ml-2 -mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Week 3 Assignment</h1></div><div id="skip-to-article"></div><div id="k5AFPbvnTb" class="relative group/block article-grid subgrid-gap col-screen"><p>The main goal this week is to get familiar with importing (and using) three really useful packages: <code>numpy</code>, <code>astropy</code> and <code>matplotlib</code>. Throughout the assignment we will also write some for-loops and practice logic statements
This assignment is meant to be done in groups of 2-3 people.</p></div><div id="jxVh1Z1MOF" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="part-1-loading-in-the-subhalo-merger-tree-data-10-15-minutes" class="relative group"><span class="heading-text">Part 1: Loading in the SubHalo Merger Tree Data (10 - 15 minutes)</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-1-loading-in-the-subhalo-merger-tree-data-10-15-minutes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>All galaxies live inside large accumulations of dark matter. These accumulations can be thought of as clouds or “halos”.
A “merger tree” is a way of understanding the accretion history of a dark matter host halo. The trunk represents the present day host halo, and every branch is a merger event (a smaller halo being eaten up).
The higher up the tree you go, the further back in time you look! I work with a code named SatGen that can create these merger trees and today you will be handling the output of the SatGen code.</p><p>The code outputs several numpy arrays that are compressed together into a single <code>.npz</code> file.
(See this link <a target="_blank" href="https://numpy.org/doc/stable/reference/generated/numpy.savez.html" rel="noreferrer">https://<wbr/>numpy<wbr/>.org<wbr/>/doc<wbr/>/stable<wbr/>/reference<wbr/>/generated<wbr/>/numpy<wbr/>.savez<wbr/>.html</a>)</p></div><div id="exqy5w0wgY" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 1</div></div><div class="px-4 py-1"><p>Download the tree_0.npz file from slack (or however we share it with you). Create a new script in your IDE (VSCode, PyCharm, etc). You will want to be saving your code in this script throughout this assignment, but you may also want to have an <code>ipython</code> instance open, for the purposes of writing and testing code quickly before copying it into your script.</p><p>Open the <code>.npz</code> file in your code.</p><ol start="1"><li>How many arrays are contained in the compressed data file?</li><li>Select the mass array and print out its dimensionality.</li><li>What about the time array?</li></ol><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint: Opening the File + Looking Inside</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>An <code>.npz</code> file is a file type defined by the <code>numpy</code> package. Look into the <code>numpy</code> package to see how you can open that file type in python. Once you have the file open in python, you need some way to figure out what it contains. Recall that in dictionaries data is stored in <code>key</code>: <code>value</code> pairs, where keys represent that names. This type of numpy file is similar. In order to figure out what the names of our arrays are, we need to use the <code>.keys()</code> method.</p></div></details><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint: Figuring out Dimensionality</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>Look into using the <code>shape</code> attribute to figure out the dimensionality of a <code>numpy</code> array.</p></div></details></div></aside></div><div id="k9yo5TTVDj" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 2</div></div><div class="px-4 py-1"><p>Discuss in your groups what physical units might make sense for these values. How can we add this information to the data which is currently only made up of <code>float</code> values?
Using <code>astropy.units</code> create two new arrays (one for time and one for the mass) that have the proper units.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>In astronomy, we often use the mass of the Sun as our mass unit and we often use gigayears as our time unit. Try to set the units of your mass and time <code>numpy</code> arrays to these using <code>astropy.units</code>.</p></div></details></div></aside></div><div id="eQw9kkCwBY" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 3</div></div><div class="px-4 py-1"><p>You might be familiar with the kilogram, meters, seconds (KMS) standard for units.
Convert your mass array into kg using <code>astropy.units</code>.
Convert your time array into seconds.
Do you see why it is useful for astronomers to work with other units?</p></div></aside></div><div id="tPQaohYluU" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="part-2-playing-around-with-halo-mass-10-15-minutes" class="relative group"><span class="heading-text">Part 2: Playing around with halo mass (10 - 15 minutes)</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-2-playing-around-with-halo-mass-10-15-minutes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="cxjX5urXVU" class="relative group/block article-grid subgrid-gap col-screen"><p>Now that you have opened up the data, I can tell you that the host halo is saved in the first index of the mass array.
The rest of the indices correspond to the subhalos that were accreted by the host during the “simulation”.</p></div><div id="vNk2sphtCR" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 4</div></div><div class="px-4 py-1"><p>Find the maximum mass of every subhalo across cosmic time! To start, you can try just finding the maximum mass for one subhalo (for ex. the first subhalo stored as the first element of the mass array).</p><p>Try this using a for-loop, then disuss with your group if there is a more efficient way accomplish the same thing.</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">TIP</div></div><div class="px-4 py-1"><p>Dark matter halos are REALLY massive! The SatGen code saves these mass values in units of solar masses and as you see, most halos are larger than 1 million solar masses.</p><p>It might make more sense to work with these numbers in log10 space. When you try to convert these values into log10 space, you might encounter a <code>UnitTypeError</code>. See if you can figure out what this error is telling you by referencing the astropy units documentation.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint: Debugging <code>UnitTypeError</code></div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>When using <code>astropy.units</code> we are actually converting our data from <code>float</code> datatype to what’s called an <code>astropy</code> <code>Quantity</code> datatype. In order to do mathematical operaitons, we usually need to convert our data back to a regular type like <code>float</code>. The way we can do this is by using the <code>.value</code> attribute of an <code>astropy</code> <code>Quantity</code>. So, we can convert our entire mass array back into regular old floats using <code>mass.value</code>.</p><p>SideNote: if you do some unit conversions to your mass array while it is in <code>Quantity</code> datatype form, then convert it back to a regular numpy array, the actual values are still converted! You can see this for yourself by using astropy to convert to kg, then using <code>.value</code> to convert that back to floats. The values will still be changed! This is why the <code>astropy.units</code> module is so useful. You will never have to worry about unit conversions again.</p></div></details></div></aside></div></aside></div><div id="HeEiNwLu5q" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 5</div></div><div class="px-4 py-1"><p>Now, we are going to make our very first plot! We will be using a python package called <code>matplotlib</code>. The <code>matplotlib</code> documentation has a nice page to walk you through the basics of how we can use this package to make plots. This will be a helpful reference: <a target="_blank" href="https://matplotlib.org/stable/tutorials/pyplot.html#sphx-glr-tutorials-pyplot-py" rel="noreferrer">Matplotlib Tutorial</a></p><p>Plot a histogram of the maximum masses you computed using the <code>matplotlib.pytplot.hist</code> method (See <a target="_blank" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html" rel="noreferrer">this link</a>).
Make sure to label the axes and change the binsize so that we have 15 evenly spaced (in log space) bins and put the y axis in log scale!</p><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-blue-500"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">TIP</div></div><div class="px-4 py-1"><p>You could have also accomplished something similar with <code>numpy.histogram</code> but since we wanted to visualize the data, in this case its easier to use <code>matplotlib</code></p></div></aside></div></aside></div><div id="g0WhCsZuvl" class="relative group/block article-grid subgrid-gap col-screen"><p>WOW! There are so many more low mass subhalos than there are high mass subhalos!! LCDM predicts a steep mass function!</p></div><div id="g8h3OoL6I4" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="part-3-plotting-the-merger-tree-20-25-minutes" class="relative group"><span class="heading-text">Part 3: Plotting the merger tree! (20-25 minutes)</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-3-plotting-the-merger-tree-20-25-minutes" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ayjYgkgpNY" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 6</div></div><div class="px-4 py-1"><p>First, let’s plot just the host halo’s mass vs. time. Start by selecting the host halo (e.g. the first element of in the mass array), and plot mass vs. time using <code>matplotlib</code>.</p><details class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><summary class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Hint: Plotting 2-D Data</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z" clip-rule="evenodd"></path></svg></div></summary><div class="px-4 py-1 details-body"><p>You can use <code>matplotlib.pyplot.plot</code> to plot a line by giving the arguments (x-data, y-data).</p></div></details></div></aside></div><div id="O9shoTXyvM" class="relative group/block article-grid subgrid-gap col-screen"><p>Okay so as we know, there are a bunch of subhalos in this merger tree.
If we wanted plot all of them with respect to time, the figure would be a bit crowded. Instead lets only pick the ones that are above a given mass at present day.</p></div><div id="hjupLLyfaO" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 7</div></div><div class="px-4 py-1"><p>In your mass array, select only the present day time index. Create a mask on this selection that excludes an subhalos that are less massive than 10^9.5 solar masses.
How many are there?</p></div></aside></div><div id="kZ7fmbjJhU" class="relative group/block article-grid subgrid-gap col-screen"><aside class="my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden rounded border-l-4 border-green-600"><div class="m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="2rem" height="2rem" class="inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg><div class="text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Step 8</div></div><div class="px-4 py-1"><p>Make a mass vs. time plot for the subhalos that meet the present day mass criteria in the previous step.
Make sure you plot the host mass in a different color.
Don’t forget to label your axes!</p></div></aside></div><div id="f2v7kERVZf" class="relative group/block article-grid subgrid-gap col-screen"><p>Can you see the little dips in the accretion histories? That is when the subhalo is accreted onto the host! Notice there is no such dip for the red line!</p></div><div class="flex pt-10 mb-10 space-x-4"><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/week2-assignment"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="text-xs text-gray-500 dark:text-gray-400">Week  2</div>Calculating the Luminosities of Stars</div></div></a><a class="flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700" href="/week4"><div class="flex h-full align-middle"><div class="flex-grow"><div class="text-xs text-gray-500 dark:text-gray-400">Week  4</div>Week 4 Exercises</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.5rem" height="1.5rem" class="self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"></path></svg></div></a></div></main></article><script>((l,d)=>{if(!window.history.state||!window.history.state.key){let f=Math.random().toString(32).slice(2);window.history.replaceState({key:f},"")}try{let p=JSON.parse(sessionStorage.getItem(l)||"{}")[d||window.history.state.key];typeof p=="number"&&window.scrollTo(0,p)}catch(f){console.error(f),sessionStorage.removeItem(l)}})("positions", null)</script><link rel="modulepreload" href="/build/entry.client-K6EYMIDZ.js"/><link rel="modulepreload" href="/build/_shared/chunk-FBLNPC3V.js"/><link rel="modulepreload" href="/build/_shared/chunk-XJN3BT5Q.js"/><link rel="modulepreload" href="/build/_shared/chunk-2NH4LW52.js"/><link rel="modulepreload" href="/build/_shared/chunk-JPGYAJQ3.js"/><link rel="modulepreload" href="/build/_shared/chunk-YAIQ7LUU.js"/><link rel="modulepreload" href="/build/_shared/chunk-JOLZ6LZB.js"/><link rel="modulepreload" href="/build/_shared/chunk-XIW7RL3H.js"/><link rel="modulepreload" href="/build/_shared/chunk-I634YBN3.js"/><link rel="modulepreload" href="/build/_shared/chunk-MITWS4PZ.js"/><link rel="modulepreload" href="/build/_shared/chunk-J6FHCSRC.js"/><link rel="modulepreload" href="/build/_shared/chunk-M5ZDOVXY.js"/><link rel="modulepreload" href="/build/_shared/chunk-6TYLRLOL.js"/><link rel="modulepreload" href="/build/_shared/chunk-UZHI4RYQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-RTIGS2T3.js"/><link rel="modulepreload" href="/build/root-2CYAF5SQ.js"/><link rel="modulepreload" href="/build/_shared/chunk-OYK7WRH2.js"/><link rel="modulepreload" href="/build/routes/$-ZDWRJY4B.js"/><script>window.__remixContext = {"url":"/assignment-w3","state":{"loaderData":{"root":{"theme":"light","config":{"title":"Astro RPS","options":{"logo":"/build/astro-rps-logo-5e1744e2e1dba761340324e371f9a0e6.webp"},"myst":"1.1.37","nav":[],"actions":[],"projects":[{"title":"Astro RPS","github":"https://astro-rps.github.io/","keywords":[],"thumbnail":"/build/astro-rps-header-git-a93200a8cc2b5d8ab2d12eb69452df7a.png","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"topiclist","title":"Course Topics","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Lectures","level":1},{"title":"Week  1","level":2},{"slug":"intro","title":"Welcome to the Astro Research Preparation Series!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"unix","title":"Introduction to UNIX and Filesystems: Navigating and Managing Data","description":"","date":"","thumbnail":"/build/finder-5c14a1ea67fb2a5082eb3c298369552b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"environments","title":"The Python Ecosystem and Virtual Environments","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  2","level":2},{"slug":"first-python-codes","title":"First Python Codes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"variables-datatypes","title":"A Deep Dive into Variables and Datatypes","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"numpy-and-arrays","title":"Numpy and Arrays","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  3","level":2},{"slug":"import-lecture","title":"Introduction to Imports","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"logic-lecture","title":"Logic Flow and Error Parsing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"loop-lecture","title":"Looping in Python","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  4","level":2},{"slug":"functions","title":"Functions in Python","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  5","level":2},{"slug":"pandas","title":"Pandas","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Labs","level":1},{"title":"Week  1","level":2},{"slug":"hunt","title":"Unix Scavenger Hunt!","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  2","level":2},{"slug":"week2-assignment","title":"Calculating the Luminosities of Stars","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  3","level":2},{"slug":"assignment-w3","title":"Week 3 Assignment","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  4","level":2},{"slug":"week4","title":"Week 4 Exercises","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Week  5","level":2},{"slug":"assignment-functions","title":"Functions (and HII regions in M33)","description":"","date":"","thumbnail":"/build/eagle-ade9779fab06ef18b8a3a7eb705cc974.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static"},"routes/$":{"page":{"kind":"Notebook","sha256":"f0ef8e1d11a47adbaa865f4b1f4f2bfcb7f04e7f2905677088df9089eb2e0a78","slug":"assignment-w3","location":"/02_Labs/Week 3/assignment_w3.ipynb","dependencies":[],"frontmatter":{"title":"Week 3 Assignment","github":"https://astro-rps.github.io/","keywords":[],"exports":[{"format":"ipynb","filename":"assignment_w3.ipynb","url":"/build/assignment_w3-0666e26d4b7e87061d1eb3faa957ee20.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The main goal this week is to get familiar with importing (and using) three really useful packages: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s48QOhLhsD"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iakCGZzwfJ"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wEQZq5gAPh"},{"type":"inlineCode","value":"astropy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BZ5XTPwQ5R"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtAQc5TAZ1"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ndhzE03Kq4"},{"type":"text","value":". Throughout the assignment we will also write some for-loops and practice logic statements\nThis assignment is meant to be done in groups of 2-3 people.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SBx3ByiJ0a"}],"key":"q7GQw2cxl9"}],"data":{"type":"notebook-content"},"key":"k5AFPbvnTb"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 1: Loading in the SubHalo Merger Tree Data (10 - 15 minutes)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tGTd7xN32s"}],"identifier":"part-1-loading-in-the-subhalo-merger-tree-data-10-15-minutes","label":"Part 1: Loading in the SubHalo Merger Tree Data (10 - 15 minutes)","html_id":"part-1-loading-in-the-subhalo-merger-tree-data-10-15-minutes","implicit":true,"key":"azIXtu6G3s"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"All galaxies live inside large accumulations of dark matter. These accumulations can be thought of as clouds or “halos”.\nA “merger tree” is a way of understanding the accretion history of a dark matter host halo. The trunk represents the present day host halo, and every branch is a merger event (a smaller halo being eaten up).\nThe higher up the tree you go, the further back in time you look! I work with a code named SatGen that can create these merger trees and today you will be handling the output of the SatGen code.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LMb08I3im9"}],"key":"QATttGpy37"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The code outputs several numpy arrays that are compressed together into a single ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ubd9LTgqwG"},{"type":"inlineCode","value":".npz","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZY47Fg1iNd"},{"type":"text","value":" file.\n(See this link ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"U4xLmHYgyw"},{"type":"link","url":"https://numpy.org/doc/stable/reference/generated/numpy.savez.html","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"https://​numpy​.org​/doc​/stable​/reference​/generated​/numpy​.savez​.html","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"jqXNbhu5yi"}],"urlSource":"https://numpy.org/doc/stable/reference/generated/numpy.savez.html","key":"aU2kWDv2JJ"},{"type":"text","value":")","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"u4Dmk8L6iu"}],"key":"FPTbMBvEWh"}],"data":{"type":"notebook-content"},"key":"jxVh1Z1MOF"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pp4bhM4ePA"}],"key":"O3oFjxRq4f"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Download the tree_0.npz file from slack (or however we share it with you). Create a new script in your IDE (VSCode, PyCharm, etc). You will want to be saving your code in this script throughout this assignment, but you may also want to have an ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hfEci6LQPf"},{"type":"inlineCode","value":"ipython","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xh6CbkDgSP"},{"type":"text","value":" instance open, for the purposes of writing and testing code quickly before copying it into your script.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GVAHowvO9o"}],"key":"I3KEInKkM3"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Open the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZxsMHZJWfK"},{"type":"inlineCode","value":".npz","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ivnmupz2oN"},{"type":"text","value":" file in your code.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nsMDQGd7NM"}],"key":"sBq1p1y3Bq"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"How many arrays are contained in the compressed data file?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XGHhwQFioA"}],"key":"tSE6ya4cXy"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Select the mass array and print out its dimensionality.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WPdgdltMMp"}],"key":"xKggboqeQV"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"What about the time array?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ARm6eFEYsi"}],"key":"Kw9CorItzH"}],"key":"zTSXAubFiB"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint: Opening the File + Looking Inside","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"hJJg6v9pkS"}],"key":"fyZV2UlKed"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"An ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"WPb95LsuR2"},{"type":"inlineCode","value":".npz","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xv6LffRXAl"},{"type":"text","value":" file is a file type defined by the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"pAN8Fz1pqG"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SY5BJlatyR"},{"type":"text","value":" package. Look into the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"e2zWpgWIrp"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"jLUNhGn7Gq"},{"type":"text","value":" package to see how you can open that file type in python. Once you have the file open in python, you need some way to figure out what it contains. Recall that in dictionaries data is stored in ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"nbG6ojhyTW"},{"type":"inlineCode","value":"key","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"GXTwOCB12W"},{"type":"text","value":": ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ovpYkyMDsU"},{"type":"inlineCode","value":"value","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EBUt8xcPHY"},{"type":"text","value":" pairs, where keys represent that names. This type of numpy file is similar. In order to figure out what the names of our arrays are, we need to use the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"sliJsfK1Ec"},{"type":"inlineCode","value":".keys()","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eRJMxscdat"},{"type":"text","value":" method.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"mVBIIFUOJo"}],"key":"j6zT7ZhLMk"}],"key":"hNtFAReA61"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint: Figuring out Dimensionality","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HEkknxCXJV"}],"key":"HijR32TuLF"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Look into using the ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"b1JVkNrU0i"},{"type":"inlineCode","value":"shape","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"yHlRuUHi27"},{"type":"text","value":" attribute to figure out the dimensionality of a ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"HBuIocM7rA"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"o6Ryn0jYIV"},{"type":"text","value":" array.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"HkA0PB8Rvx"}],"key":"EuHBQBAUqT"}],"key":"twmMYjTe8O"}],"key":"JGHXHqVw4d"}],"data":{"type":"notebook-content"},"key":"exqy5w0wgY"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l0siojsYWK"}],"key":"wuqrQ4qUhJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Discuss in your groups what physical units might make sense for these values. How can we add this information to the data which is currently only made up of ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mG01J2oiKx"},{"type":"inlineCode","value":"float","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iNU2mW8T5g"},{"type":"text","value":" values?\nUsing ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V5tWAlA336"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mtjDDTlCcl"},{"type":"text","value":" create two new arrays (one for time and one for the mass) that have the proper units.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xOFToMvCxM"}],"key":"RZnlCU4x0T"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"mbumIIHXFH"}],"key":"HGX2Ctu3bx"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"In astronomy, we often use the mass of the Sun as our mass unit and we often use gigayears as our time unit. Try to set the units of your mass and time ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oYyVHtb9N5"},{"type":"inlineCode","value":"numpy","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"amTzheC6nG"},{"type":"text","value":" arrays to these using ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KUKaDB5LeZ"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uenoLjNEus"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"wkb0xzcBCf"}],"key":"v9VKQZ5YD6"}],"key":"y3fMEBSzug"}],"key":"sK9tNpNhls"}],"data":{"type":"notebook-content"},"key":"k9yo5TTVDj"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 3","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zof8grMV1X"}],"key":"dvPR045Ms4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"You might be familiar with the kilogram, meters, seconds (KMS) standard for units.\nConvert your mass array into kg using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"y4o7d1PcMm"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cJoj24JZZg"},{"type":"text","value":".\nConvert your time array into seconds.\nDo you see why it is useful for astronomers to work with other units?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tEV3bdy5Ca"}],"key":"eUXv3Ak8He"}],"key":"LayMdG1kgi"}],"data":{"type":"notebook-content"},"key":"eQw9kkCwBY"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 2: Playing around with halo mass (10 - 15 minutes)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iOyJGLdLYM"}],"identifier":"part-2-playing-around-with-halo-mass-10-15-minutes","label":"Part 2: Playing around with halo mass (10 - 15 minutes)","html_id":"part-2-playing-around-with-halo-mass-10-15-minutes","implicit":true,"key":"Cbam47AH0W"}],"data":{"type":"notebook-content"},"key":"tPQaohYluU"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that you have opened up the data, I can tell you that the host halo is saved in the first index of the mass array.\nThe rest of the indices correspond to the subhalos that were accreted by the host during the “simulation”.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGc3oNY9QC"}],"key":"mj7iY0kENa"}],"data":{"type":"notebook-content"},"key":"cxjX5urXVU"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 4","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CkQhxEmrOa"}],"key":"zD4zfDi1pU"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Find the maximum mass of every subhalo across cosmic time! To start, you can try just finding the maximum mass for one subhalo (for ex. the first subhalo stored as the first element of the mass array).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yEGHqYLVFJ"}],"key":"JMh3JfGYkG"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Try this using a for-loop, then disuss with your group if there is a more efficient way accomplish the same thing.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"JviZ3pZNQw"}],"key":"E2ZkALfRkt"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"TIP","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"bwohwpA4cT"}],"key":"Z2lt6caplZ"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Dark matter halos are REALLY massive! The SatGen code saves these mass values in units of solar masses and as you see, most halos are larger than 1 million solar masses.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Sm0BQ6G5L8"}],"key":"HxIWdm06y2"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"It might make more sense to work with these numbers in log10 space. When you try to convert these values into log10 space, you might encounter a ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"H5ZgyNPUgZ"},{"type":"inlineCode","value":"UnitTypeError","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"VIFjDr2gS1"},{"type":"text","value":". See if you can figure out what this error is telling you by referencing the astropy units documentation.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OffDMAdj1q"}],"key":"xHP8uGUAp5"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint: Debugging ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Odp0c1Vrsq"},{"type":"inlineCode","value":"UnitTypeError","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"reVcftnRVy"}],"key":"sCYOUt5SvX"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"When using ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"I4PnGYLIf5"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jPaGxufDrg"},{"type":"text","value":" we are actually converting our data from ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ErBB0Ejkwi"},{"type":"inlineCode","value":"float","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ZWnkf2cUPW"},{"type":"text","value":" datatype to what’s called an ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Vx7NBMxscV"},{"type":"inlineCode","value":"astropy","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Gy9DJIrSMG"},{"type":"text","value":" ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"xbQWReoDa3"},{"type":"inlineCode","value":"Quantity","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ak9wv1ogft"},{"type":"text","value":" datatype. In order to do mathematical operaitons, we usually need to convert our data back to a regular type like ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"sZAnyw5LrW"},{"type":"inlineCode","value":"float","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Sh6GSRSOgb"},{"type":"text","value":". The way we can do this is by using the ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"NlmvbEeLVU"},{"type":"inlineCode","value":".value","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"fD0ex77FMs"},{"type":"text","value":" attribute of an ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"C5Zbmxgyuc"},{"type":"inlineCode","value":"astropy","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"fppRAef73F"},{"type":"text","value":" ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qDHus8LaKC"},{"type":"inlineCode","value":"Quantity","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"baq6UK5CZ5"},{"type":"text","value":". So, we can convert our entire mass array back into regular old floats using ","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"A5eXELpd0B"},{"type":"inlineCode","value":"mass.value","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"V3vCW3aURx"},{"type":"text","value":".","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"tWbNvkxLjb"}],"key":"T7N7EyxrT0"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"SideNote: if you do some unit conversions to your mass array while it is in ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"sW6bx2y0tK"},{"type":"inlineCode","value":"Quantity","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"FgN5gL2Atq"},{"type":"text","value":" datatype form, then convert it back to a regular numpy array, the actual values are still converted! You can see this for yourself by using astropy to convert to kg, then using ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"PUHCGr7pvy"},{"type":"inlineCode","value":".value","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UZum3w6KYv"},{"type":"text","value":" to convert that back to floats. The values will still be changed! This is why the ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cSt7ons3uB"},{"type":"inlineCode","value":"astropy.units","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"iAYZffHXIx"},{"type":"text","value":" module is so useful. You will never have to worry about unit conversions again.","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"HVOj8XcQSv"}],"key":"PVhvuUeBEW"}],"key":"HsINcfhRex"}],"key":"AoYOAgujTo"}],"key":"ECwaswsAAC"}],"data":{"type":"notebook-content"},"key":"vNk2sphtCR"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 5","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SXGY0p3gvn"}],"key":"wyqX5uEYTG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Now, we are going to make our very first plot! We will be using a python package called ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"k9XDdcfjXr"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c5wXsm0p1i"},{"type":"text","value":". The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uP3hRHnuYe"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t9IJs28Tig"},{"type":"text","value":" documentation has a nice page to walk you through the basics of how we can use this package to make plots. This will be a helpful reference: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NV4kLBLr9e"},{"type":"link","url":"https://matplotlib.org/stable/tutorials/pyplot.html#sphx-glr-tutorials-pyplot-py","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Matplotlib Tutorial","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZFso2fR74J"}],"urlSource":"https://matplotlib.org/stable/tutorials/pyplot.html#sphx-glr-tutorials-pyplot-py","key":"CqNcYnTJPG"}],"key":"HcNrJm7UBR"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Plot a histogram of the maximum masses you computed using the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"gUxc3prZLb"},{"type":"inlineCode","value":"matplotlib.pytplot.hist","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"G4L58HqEuq"},{"type":"text","value":" method (See ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cxE0Utl2MW"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"this link","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"EYZclfGWjb"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.hist.html","key":"bzSW3XQ7Nt"},{"type":"text","value":").\nMake sure to label the axes and change the binsize so that we have 15 evenly spaced (in log space) bins and put the y axis in log scale!","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YJKGHIQ1LB"}],"key":"sVeztsROkt"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"TIP","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EedZhmIj1V"}],"key":"terAsETbnl"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"You could have also accomplished something similar with ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fgQfeunbpI"},{"type":"inlineCode","value":"numpy.histogram","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ncYXwLKD5i"},{"type":"text","value":" but since we wanted to visualize the data, in this case its easier to use ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"l55lmnx4zp"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"P4Mlb4YAcc"}],"key":"WfUJ8WGELF"}],"key":"TYkfdMRmAT"}],"key":"U98mUbJeVb"}],"data":{"type":"notebook-content"},"key":"HeEiNwLu5q"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"WOW! There are so many more low mass subhalos than there are high mass subhalos!! LCDM predicts a steep mass function!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jXowafZosT"}],"key":"RrvODlZmc9"}],"data":{"type":"notebook-content"},"key":"g0WhCsZuvl"},{"type":"block","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 3: Plotting the merger tree! (20-25 minutes)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QYMHkeH3N8"}],"identifier":"part-3-plotting-the-merger-tree-20-25-minutes","label":"Part 3: Plotting the merger tree! (20-25 minutes)","html_id":"part-3-plotting-the-merger-tree-20-25-minutes","implicit":true,"key":"A0GL3Vpho2"}],"data":{"type":"notebook-content"},"key":"g8h3OoL6I4"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 6","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S3fY0Pl7el"}],"key":"PdN0U45sp6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"First, let’s plot just the host halo’s mass vs. time. Start by selecting the host halo (e.g. the first element of in the mass array), and plot mass vs. time using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bnxm0SYOg0"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hdPiJWkekZ"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VyUiaVWMBh"}],"key":"Ro15xI5Ijs"},{"type":"admonition","kind":"hint","class":"dropdown","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Hint: Plotting 2-D Data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Thb3LaysD4"}],"key":"iAzlc6ytWZ"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"You can use ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Qa9o0Hc98v"},{"type":"inlineCode","value":"matplotlib.pyplot.plot","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GFH1Ezcdti"},{"type":"text","value":" to plot a line by giving the arguments (x-data, y-data).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"P1dJE9iZmL"}],"key":"Y9CQO6s1fo"}],"key":"izKEdTJZ9N"}],"key":"shhUm0BHKr"}],"data":{"type":"notebook-content"},"key":"ayjYgkgpNY"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Okay so as we know, there are a bunch of subhalos in this merger tree.\nIf we wanted plot all of them with respect to time, the figure would be a bit crowded. Instead lets only pick the ones that are above a given mass at present day.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NOoYtapKMi"}],"key":"RGp3x7WE38"}],"data":{"type":"notebook-content"},"key":"O9shoTXyvM"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 7","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fPX6V8T6h8"}],"key":"iE68YAQMw0"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In your mass array, select only the present day time index. Create a mask on this selection that excludes an subhalos that are less massive than 10^9.5 solar masses.\nHow many are there?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rrgtaqDzys"}],"key":"kUVGAT1eiu"}],"key":"gOugwEXD3p"}],"data":{"type":"notebook-content"},"key":"hjupLLyfaO"},{"type":"block","children":[{"type":"admonition","class":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Step 8","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hwsDVVIIui"}],"key":"YFT2pBajew"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Make a mass vs. time plot for the subhalos that meet the present day mass criteria in the previous step.\nMake sure you plot the host mass in a different color.\nDon’t forget to label your axes!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"etQaB78aL1"}],"key":"k4Tor8mKd0"}],"key":"rot6T5AnwE"}],"data":{"type":"notebook-content"},"key":"kZ7fmbjJhU"},{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Can you see the little dips in the accretion histories? That is when the subhalo is accreted onto the host! Notice there is no such dip for the red line!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KXb14Cknnl"}],"key":"hnWSc2ePXp"}],"data":{"type":"notebook-content"},"key":"f2v7kERVZf"}],"key":"QwJrBHITbg"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Calculating the Luminosities of Stars","url":"/week2-assignment","group":"Week  2"},"next":{"title":"Week 4 Exercises","url":"/week4","group":"Week  4"}}},"domain":"http://localhost:3010"}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":false,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/build/manifest-FDC5A112.js";
import * as route0 from "/build/root-2CYAF5SQ.js";
import * as route1 from "/build/routes/$-ZDWRJY4B.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/build/entry.client-K6EYMIDZ.js");</script></body></html>