{"kind":"Notebook","sha256":"c42b4cc73e4791c06b8fe196c0c5d7d3ad0a1ed903baa013abe9b5242c8b07ec","slug":"lab4-2025","location":"/02_Labs/Week 4/Lab4_2025.ipynb","dependencies":[],"frontmatter":{"title":"Lab 4: Exploring Cosmological Parameters with Functions","content_includes_title":false,"kernelspec":{"name":"ugali_kernel","display_name":"ugali_kernel","language":"python"},"github":"https://astro-rps.github.io/","keywords":[],"numbering":{"title":{"offset":2}},"edit_url":"https://astro-rps.github.io//blob/main/02_Labs/Week 4/Lab4_2025.ipynb","exports":[{"format":"ipynb","filename":"Lab4_2025.ipynb","url":"/build/Lab4_2025-22eccd37da2f967eb6a1cec385a69eb4.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Objective:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bYfVpglOuv"}],"identifier":"objective","label":"Objective:","html_id":"objective","implicit":true,"key":"MDmwSACbUw"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"This Lab will help you develop and practice your ability to write Python functions in the context of cosmology.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"SoittjNuA3"}],"key":"nCRfQBXx1O"},{"type":"heading","depth":3,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Background: Hubble’s Law","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ypxhQCAOlK"}],"identifier":"background-hubbles-law","label":"Background: Hubble’s Law","html_id":"background-hubbles-law","implicit":true,"key":"NFVrAujJdd"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Hubble’s Law describes the relationship between the velocity of a galaxy and its distance from us:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NXuRJr5OPw"}],"key":"KEb21WulkS"},{"type":"math","value":"v = H_0 \\times d","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>v</mi><mo>=</mo><msub><mi>H</mi><mn>0</mn></msub><mo>×</mo><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">v = H_0 \\times d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span></span>","enumerator":"1","key":"nMd92PCIlR"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"where ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"llAFII6pC3"},{"type":"inlineMath","value":"v","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"jWg1zB7dSh"},{"type":"text","value":" is is the recession velocity of a galaxy (in km/s), ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"k7lvpJd0G6"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"xYxr9NbZ5K"},{"type":"text","value":" is the Hubble constant (in km/s/Mpc, assume 70 km/s/Mpc), and ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"uG1RVdeHC3"},{"type":"inlineMath","value":"d","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span>","key":"xJKIfPl5dX"},{"type":"text","value":" is the distance of the galaxy (in Mpc).  ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"FeTNTMv6O2"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"sB65bKxrMX"},{"type":"text","value":" is the present-day expansion rate of the universe. In general, we cannot measure direct distances to very distant galaxies, and so we measure the recessional velocity ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"vE8qZD1UYW"},{"type":"inlineMath","value":"v","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span></span></span></span>","key":"G9rT4rU9yN"},{"type":"text","value":" and can use that to find ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MX6idsX1mc"},{"type":"inlineMath","value":"d","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span>","key":"XY6yTOEcTL"},{"type":"text","value":". The fact that this correlation exists is a productive of the fact that ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ewt7gAH2gW"},{"type":"emphasis","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"our universe is expanding","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MkrrFumHrJ"}],"key":"yLrTJ462Ax"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MIrife3UAs"}],"key":"TRN0hvVIfL"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 1: Cosmic Distances with Hubble’s Law","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ODNKqmOBMW"}],"key":"dJ5oF3nSa0"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Define a function ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"bWFCMCQ9Tc"},{"type":"inlineCode","value":"hubble_distance","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"scc3N8z1pB"},{"type":"text","value":" to calculate the distance to a galaxy based on this formula. The function should take one required argument, the recessional velocity in km/s, and should return the distance to the galaxy in Megaparsecs (Mpc).","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"peoYpUTHni"}],"key":"zQd7Mn3uW9"}],"key":"ZoggNqkrkk"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Add the Hubble constant as an optional argument that takes a default value of 70 km/s/Mpc.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"qdbtSvJGxA"}],"key":"tevmT1dZhr"}],"key":"OGNjT8jjK2"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Add a print statement of the form “Given a recessional velocity of [] and a Hubble constant on [], a galaxy’s distance would be []” (fill in the units here, and use f-strings to handle the values).","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"lzpUkfxJdG"}],"key":"UrcquNmdeP"}],"key":"A8RmAM4os7"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Verify your code by checking that you recover 20 Mpc as the distance for a galaxy moving at 1400 km/s, assuming the default ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"W856Ib9xTL"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"PxVps3Dzfk"},{"type":"text","value":" value.\n(for reference, 20 Mpc is in the local universe, and space telescopes like JWST can resolve individual stars in galaxies at this distance).","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"aiRpfVaFOl"}],"key":"Obq2lFZqRZ"}],"key":"Va3tx652IO"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Now, create an evenly-spaced array (hint: np.arange or np.linspace is your friend here!) of 20 recessional velocities called ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"ngMzQXeb7J"},{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"recess_vels","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"YNEkQbKvEs"}],"key":"UBIxEvhC2S"},{"type":"text","value":" in the range [1000,100000]. Using a loop, evaluate your function over each element. Store the results in a list","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"YWH6rzv80g"}],"key":"dj04j8A4Gj"}],"key":"OEHTU0MuTG"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Without","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"h6wTBkb0c3"}],"key":"glFmxswyrj"},{"type":"text","value":" using a loop, evaluate your function over ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"ZNyxZk2uRt"},{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"recess_vels","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"yGECvfTOja"}],"key":"Z80t060GyQ"},{"type":"text","value":".","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"UpETv4R0jW"}],"key":"sGMvg2RguT"}],"key":"Xuih4oWGU1"},{"type":"listItem","spread":true,"position":{"start":{"line":33,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"The output from 6 just prints everything in a rather sloppy way. Go back and add another optional argument ","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Hfr5kGvSre"},{"type":"strong","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"print_res","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"WY4tA9Zzr5"}],"key":"IQ7TzG9bfO"},{"type":"text","value":" that is a boolean defaulting to False. Using an if statement, make it so that the results statement only prints if this variable is set to True.","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"c83yLmRpqI"}],"key":"TeixDz3Jsw"}],"key":"Fa3ebRw4VY"},{"type":"listItem","spread":true,"position":{"start":{"line":36,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Add type decorators to the inputs. See the Week 4 notes for a reminder if needed!","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"j4f5PbcQUN"}],"key":"p469n3nXSO"}],"key":"ToPgmdzSfB"},{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Lastly, add a docstring detailing the purpose of the function, its arguments, and the return type.","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"aWfpwCNpdY"}],"key":"cxpLZ2C0Ud"}],"key":"EBkFW3yPSD"}],"key":"fT8haiwo71"}],"key":"AaSCm3P6qP"}],"key":"qwND636I9A"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Questions 5-6 above get at a core concept in Python: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WW3Uc9B6ar"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"vectorization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"azQI0OCzo9"}],"key":"ecXeUggYjC"},{"type":"text","value":". In Python, it will essentially always be faster to carry out an operation over a vector (array) simultaneously (part 5) as opposed to using a loop (part 4). This might not matter for small datasets but will become increasingly relevant as your dataset grows.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JpmtgsDQ7c"}],"key":"UxVUPlISUm"}],"key":"CqaU5NEMaV"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, we can make it even more sophisticated! We will now build subsequent functions that expand upon the one above. This incremental function-building is a core component of research, since you rarely write a single function that does everything you want.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vU9EGmpSVG"}],"key":"baX79siHl6"}],"key":"jHOOqz5AhK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Background: The Cosmic Critical Density","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nb8t19tIaa"}],"identifier":"background-the-cosmic-critical-density","label":"Background: The Cosmic Critical Density","html_id":"background-the-cosmic-critical-density","implicit":true,"key":"cbISPcMuzE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The cosmic ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aYLCY2oH8Z"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"critical density","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XyqPH8Guwe"}],"key":"kc93aRJ5Wr"},{"type":"text","value":" is the average density of matter and energy needed for the universe to be flat. If the actual density is higher, the universe is “closed” may eventually collapse; if the density is lower, the universe is “open” and will expand forever.  It can be calculated from the Hubble Constant via","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WcMTiS0zap"}],"key":"yLPzu5LHuk"},{"type":"math","value":"\\rho_c = \\frac{3H_0^2}{8\\pi G}","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"tight":"before","html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>ρ</mi><mi>c</mi></msub><mo>=</mo><mfrac><mrow><mn>3</mn><msubsup><mi>H</mi><mn>0</mn><mn>2</mn></msubsup></mrow><mrow><mn>8</mn><mi>π</mi><mi>G</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\rho_c = \\frac{3H_0^2}{8\\pi G}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">c</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1771em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4911em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">8</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord mathnormal\">G</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">3</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.4519em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2481em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"2","key":"u8cJqJo1AR"},{"type":"heading","depth":3,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Background: The Age of the Universe","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KEbFDpA7wy"}],"identifier":"background-the-age-of-the-universe","label":"Background: The Age of the Universe","html_id":"background-the-age-of-the-universe","implicit":true,"key":"A6X8bB54Mu"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Because the universe has been continuously expanding since the origin of the universe, the present-day expansion rate can be used to approximate the age of the universe. Put explicitly, the age of the universe can be estimated roughly as","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ep35qzDvxe"}],"key":"QAMmyHystN"},{"type":"math","value":"t = \\frac{1}{H_0}","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"tight":true,"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>t</mi><mo>=</mo><mfrac><mn>1</mn><msub><mi>H</mi><mn>0</mn></msub></mfrac></mrow><annotation encoding=\"application/x-tex\">t = \\frac{1}{H_0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1574em;vertical-align:-0.836em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3214em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"3","key":"iIhd6evgcO"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"(but you need to be careful about units: you need to first convert ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uHDcro8B7H"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"MRG2QgmYyz"},{"type":"text","value":" to units of inverse seconds for this to work.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"PZfQc02vwq"}],"key":"C0akKCX58t"}],"key":"td520Yj0Cz"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercise 2: Nested Functions","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PQw1ZcIk0c"}],"key":"DyTQc1EDEY"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this exercise you will take data about galaxy distances and recession velocities and use it to derive the density, age, and shape of the universe.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lO5JSA3EsA"}],"key":"ebyddPkPTz"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"seZw3mJTDG"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"get_hubble_constant","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ATNRk8n8cO"}],"key":"pkEC7BIGgW"},{"type":"text","value":" which takes in an array of galaxy distances in Mpc and an array of recessional velocities in km/s. Compute ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vLroAoM9GM"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"QKWDrKiA76"},{"type":"text","value":" for each element and then return a single average. Don’t use loops for anything in this exercise!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FgJEzcUcWj"}],"key":"Su4XRXRJOZ"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"D96aNRada6"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"get_critical_density","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"v32VAUT3Yg"}],"key":"ngidPBQ89K"},{"type":"text","value":" that computes the critical density according to the above formula, with only a single argument of ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"opTQ3gYARm"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"akBHAXX4Xc"},{"type":"text","value":". Determine and print the “shape” of the universe (open, closed, flat) by comparing against a model where the Hubble constant is fixed to ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"K1iwtd5YLx"},{"type":"inlineMath","value":"H_0 = 73","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>=</mo><mn>73</mn></mrow><annotation encoding=\"application/x-tex\">H_0 = 73</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">73</span></span></span></span>","key":"opLr1t3qMs"},{"type":"text","value":" (which is realistic, and we think we live in a flat universe).","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dnosAIfeC9"}],"key":"pQAtB8RcoV"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dnw8uC2oAw"},{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"get_universe_age","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vHfskJAgjE"}],"key":"VoEYN6vTyP"},{"type":"text","value":" that takes in ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"MZoh1LbETy"},{"type":"inlineMath","value":"H_0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">H_0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"ZnSlwGCdxy"},{"type":"text","value":" in km/s/Mpc and returns the age of the universe in years. Note that you need to include two unit conversions: first, you will need to convert km/s/Mpc to just 1/s. After inverting this, you can then convert the time in seconds to a time in years.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VLa4o28t9e"}],"key":"XsdefUU7Pa"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Write a function ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"YlfdiUY5Jy"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"cosmology_solver","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"QOEOGPAlzx"}],"key":"GzLOJ6GwS8"},{"type":"text","value":" that wraps all of the three functions, i.e., it calculates the critical density, shape, and age of the universe. Specifically, it should take the same inputs as ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ekiOM1svSI"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"get_hubble_constant","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"WxppOQ62FE"}],"key":"YMPAPKQQdH"},{"type":"text","value":". Within ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HO3cER5HWY"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"cosmology_solver","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uq5ZO9rOCY"}],"key":"xMY8FTK7fO"},{"type":"text","value":", you should run each of the functions you created above such that you can figure out the properties of the univese for a given dataset of galaxy distances/recession velocities. Print the critical density.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ddWgp4uhGp"}],"key":"DsNjoGKgV2"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Test your complete cosmology solver with the following data: distances: [45,100,200,400] Mpc and velocities [3400, 7600, 15200, 31800] km/s. What kind of univese do you end up with? Is it older or younger than our ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"N2rQHT3AmH"},{"type":"inlineMath","value":"H_0 = 70","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>H</mi><mn>0</mn></msub><mo>=</mo><mn>70</mn></mrow><annotation encoding=\"application/x-tex\">H_0 = 70</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">70</span></span></span></span>","key":"a9VsKSCXQs"},{"type":"text","value":"ish universe?","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pguUuc7EmM"}],"key":"u2sj2jx0VX"}],"key":"Lpb7XUkvX9"}],"key":"v6Dj205mh7"}],"key":"vc92Ym7ygJ"}],"key":"Mvyi7zchgy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Week 3 Lab: Program Flow, Logic, and Loops with the Messier Catalog!","url":"/lab3-2025","group":"Week  3"}}},"domain":"http://localhost:3002"}